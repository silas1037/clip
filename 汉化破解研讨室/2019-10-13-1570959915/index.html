
  <!DOCTYPE html>
  <html id="" class="">
    <!-- OriginalSrc: https://bbs.sumisora.net/read.php?tid=203034&fpage=6 -->
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />

      <title>[源码] 抽取PS2版CLANNAD语音、图像|【汉化破解研讨室】|【游戏汉化交流区】 - 『澄空学园』 GalGame专题网</title>
      

<link rel="stylesheet" type="text/css" href="assets/1570959915-5f21d2d0f0e14c54e3e080ff47c8ec08.css" referrerpolicy="no-referrer">
<link type="text/css" href="assets/1570959915-2f10d407050ab6b2185fb483267feb32.css" rel="stylesheet" referrerpolicy="no-referrer">
<link href="assets/1570959915-6ea61090578ddc8e91dc9b26707cebc8.css" rel="stylesheet" type="text/css" referrerpolicy="no-referrer">
<link rel="stylesheet" type="text/css" href="assets/1570959915-46d427da9cafb653c4ed606490c99b3a.css" referrerpolicy="no-referrer">


<style class="darkreader darkreader--fallback" media="screen"></style>
<style class="darkreader darkreader--text" media="screen"></style>
<style class="darkreader darkreader--invert" media="screen"></style>
<style class="darkreader darkreader--inline" media="screen">[data-darkreader-inline-bgcolor] {
  background-color: var(--darkreader-inline-bgcolor) !important;
}
[data-darkreader-inline-bgimage] {
  background-image: var(--darkreader-inline-bgimage) !important;
}
[data-darkreader-inline-border] {
  border-color: var(--darkreader-inline-border) !important;
}
[data-darkreader-inline-border-bottom] {
  border-bottom-color: var(--darkreader-inline-border-bottom) !important;
}
[data-darkreader-inline-border-left] {
  border-left-color: var(--darkreader-inline-border-left) !important;
}
[data-darkreader-inline-border-right] {
  border-right-color: var(--darkreader-inline-border-right) !important;
}
[data-darkreader-inline-border-top] {
  border-top-color: var(--darkreader-inline-border-top) !important;
}
[data-darkreader-inline-boxshadow] {
  box-shadow: var(--darkreader-inline-boxshadow) !important;
}
[data-darkreader-inline-color] {
  color: var(--darkreader-inline-color) !important;
}
[data-darkreader-inline-fill] {
  fill: var(--darkreader-inline-fill) !important;
}
[data-darkreader-inline-stroke] {
  stroke: var(--darkreader-inline-stroke) !important;
}
[data-darkreader-inline-outline] {
  outline-color: var(--darkreader-inline-outline) !important;
}</style>
<style class="darkreader darkreader--user-agent" media="screen">html {
    background-color: #191a1b !important;
}
html, body, input, textarea, select, button {
    background-color: #191a1b;
}
html, body, input, textarea, select, button {
    border-color: #5a5956;
    color: #f0ebe2;
}
a {
    color: #4791e7;
}
table {
    border-color: #4f4e4c;
}
::placeholder {
    color: #bfb9ac;
}
::selection {
    background-color: #125cb4;
    color: #fffffd;
}
::-moz-selection {
    background-color: #125cb4;
    color: #fffffd;
}
input:-webkit-autofill,
textarea:-webkit-autofill,
select:-webkit-autofill {
    background-color: #565a0f !important;
    color: #f0ebe2 !important;
}
::-webkit-scrollbar {
    background-color: #1d1f1f;
    color: #cbc5b9;
}
::-webkit-scrollbar-thumb {
    background-color: #2c2d2d;
}
::-webkit-scrollbar-thumb:hover {
    background-color: #343636;
}
::-webkit-scrollbar-thumb:active {
    background-color: #404142;
}
::-webkit-scrollbar-corner {
    background-color: #191a1b;
}
* {
    scrollbar-color: #2c2d2d #1d1f1f;
}</style>
<style class="darkreader darkreader--sync" media="screen"></style>
<style class="darkreader darkreader--override" media="screen">.jfk-bubble {
    background-color: #000000 !important;
}
.vimvixen-hint {
    background-color: #765500 !important;
    border-color: #d5b22e !important;
    color: #f9edcc !important;
}</style>
<style class="darkreader darkreader--sync" media="screen"></style>
<style class="darkreader darkreader--sync" media="screen"></style>
<style class="darkreader darkreader--sync" media="screen"></style>
<style type="text/css"> 
.tr3 td,.tr3 th{border-right:1px solid #D5E5E8;}
.y-style{text-align:center;}
.tr1 th{border-right:1px solid #D5E5E8;}
.tr1 td.td1{border-left:0}
 

.signature img { max-height:250px !important; }
</style>
<style class="darkreader darkreader--sync" media="screen"></style>
<style type="text/css">@keyframes fadeInOpacity{0%{opacity:0}to{opacity:1}}:hover>*>.fbvd--wrapper{animation-name:fadeInOpacity;animation-duration:.3s;opacity:1}.fbvd--wrapper{position:absolute;top:10px;left:10px;opacity:0;text-align:center;margin:0;z-index:5}.fbvd--wrapper a{background: url("") no-repeat 3px 4.55px; background-color: #fff; display:inline-block;font:700 14px Helvetica,Arial,sans-serif;color:#4b4f56;text-decoration:none;vertical-align:middle;padding:0px 8px 0px;margin-right:8px;border-radius:2px; line-height: 22px; padding-left:19px; border: 1px solid #e7e7e7; background-size: 13px}.fbvd--wrapper a:last-child{margin-right:0}.fbvd--wrapper a:hover{text-decoration:none}.fbvd--wrapper a:focus{box-shadow:0 0 1px 2px rgba(88,144,255,.75),0 1px 1px rgba(0,0,0,.15);outline:none}.fbvd--wrapper b{font-size:13px;position:relative;top:1px;color:#3b5998;font-weight:400}</style>
<style class="darkreader darkreader--sync" media="screen"></style>

      <style class="mx-wc-style">
        .mx-wc-main img {max-width: 100%;}
        .mx-wc-main{
          box-sizing: content-box;
          background-color: rgb(25, 26, 27) !important;
          margin: 0 auto;
          margin-top: 20px;
          max-width: 1349px;
        }
        @media (min-width: 768px) {
          .mx-wc-main { padding: 15px 15px 80px 15px }
        }
        @media (max-width: 767px) {
          .mx-wc-main { padding: 15px 3px 80px 3px }
        }
  
      </style>
    </head>
    <body style="background-color: #ffffff !important; min-height: 100%; height: auto; position: static !important; overflow: auto !important; padding-bottom: 0px !important;" id="" class="">
      <div class="mx-wc-main">
        <div id="wrapA" class="mx-wc-selected-elem mx-wc-1570959915" style="display: block; float: none !important; position: relative !important; top: 0px !important; left: 0px !important; margin: 0px !important; flex: unset !important; width: 100% !important; max-width: 100% !important; box-sizing: border-box !important;">

<div id="header">
<div class="toptool tar">	<span>
	<a href="https://bbs.sumisora.net/read.php?tid=203034&amp;fpage=6&amp;skinco=simple" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">手机版</a>

	| <a style="cursor:pointer;" id="td_skin" data-mx-warn="Empty URL">风格切换<img src="assets/1570959915-5c8e409588b73ce4284cf5b9bd619e15.gif"></a>
	| <a href="https://bbs.sumisora.net/read.php?tid=10894912" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">学生手册</a>
	</span>
</div>
<table cellspacing="0" cellpadding="0" align="center" width="100%">
<tbody><tr>
	<td class="banner"><a href="https://bbs.sumisora.net/" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer"><img id="forumlogo" src="assets/1570959915-7ac78a0e1e3ce795251288b0c8bd4b1b.png"></a></td>
	<td class="banner" id="banner" align="right"></td>
</tr>
<tr><td align="center" height="1" colspan="2"></td></tr>
</tbody></table>
<div id="h_guide" class="guide" colspan="2"><span class="s3">»</span>

	<span style="font-weight:bold" class="s3">silasu</span>&nbsp;<a href="https://bbs.sumisora.net/login.php?action=quit&amp;verify=034be2bd" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">退出</a> |
	<a id="td_profile" href="https://bbs.sumisora.net/profile.php" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">控制面板</a>
	| <a id="td_msg" href="https://bbs.sumisora.net/message.php" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">

	短消息</a>

	| <a id="td_sort" href="https://bbs.sumisora.net/sort.php" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">统计排行</a>

	| <a href="https://bbs.sumisora.net/member.php" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">会员</a>

	| <a href="https://bbs.sumisora.net/search.php" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">搜索</a>
	| <a style="cursor:pointer;" id="td_hack" data-mx-warn="Empty URL">社区服务<img src="assets/1570959915-5c8e409588b73ce4284cf5b9bd619e15.gif"></a>

	| <a href="https://bbs.sumisora.net/hack.php?H_name=galgamevote" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">GALGAME角色人气投票活动</a>

 | <a href="https://bbs.sumisora.net/yume/polls/" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">近期关注</a><!--[if lte IE 6]>
 | <a href="read.php?tid=10955539" style="color:red">本站已停止支持IE6，请升级或更换浏览器</a>
<![endif]-->
</div>



</div>
<div id="main">




<div class="t3" style="margin-top:8px"><table width="100%" cellspacing="0" cellpadding="0" align="center">
	<tbody><tr><td class="b"><img src="assets/1570959915-ca4a91079181c2a5cb3514b2e5b5f035.gif" align="absmiddle"> <a href="https://bbs.sumisora.net/index.php" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">『澄空学园』</a> » <a href="https://bbs.sumisora.net/thread.php?fid=77" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">【游戏汉化交流区】</a> » <a href="https://bbs.sumisora.net/thread.php?fid=78&amp;page=6" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">【汉化破解研讨室】</a> » <a href="https://bbs.sumisora.net/read.php?tid=203034" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">[源码] 抽取PS2版CLANNAD语音、图像</a> <a href="https://bbs.sumisora.net/rss.php?tid=203034" target="_blank" title="Rss订阅本帖最新内容" referrerpolicy="no-referrer" rel="noopener noreferrer"><img align="absmiddle" src="assets/1570959915-b4369735f1bfb33ab69477230a8ba635.png"></a></td></tr>
</tbody></table></div>

<!--ads begin-->

<!--ads end-->
<div class="t3"><table width="100%" align="center" cellspacing="0" cellpadding="0">
	<tbody><tr><td align="left"><div class="fl"></div></td><td align="right" style="padding-bottom:.2em"><a href="https://bbs.sumisora.net/post.php?action=reply&amp;fid=78&amp;tid=203034" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer"><img src="assets/1570959915-132cb83b134d7ecd9b390389d489bc43.png"></a>

<a href="https://bbs.sumisora.net/post.php?fid=78" style="margin-left:.5em" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer"><img src="assets/1570959915-8cab7ee31ae503cf78e5410d40cec291.png" id="td_post"></a>

</td></tr>
</tbody></table></div>



<form name="delatc" method="post">


<div class="t" style="margin-bottom: 0px; border-bottom: 0px; --darkreader-inline-border-bottom: initial;" data-darkreader-inline-border-bottom=""><table cellspacing="0" cellpadding="0" width="100%">
	<tbody><tr><th class="h"><strong class="fl w"><b>本页主题:</b> [源码] 抽取PS2版CLANNAD语音、图像</strong>
	<span class="fr w"><a data-mx-warn="Empty URL">&nbsp;</a><a href="https://bbs.sumisora.net/job.php?action=previous&amp;fid=78&amp;tid=203034&amp;fpage=6&amp;goto=previous" class="fn" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">上一主题</a> | <a href="https://bbs.sumisora.net/job.php?action=previous&amp;fid=78&amp;tid=203034&amp;fpage=6&amp;goto=next" class="fn" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">下一主题</a> | <a href="javascript:scroll(0,999999)" title="底端" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">底端</a></span> </th>
	</tr>
	<tr><td></td></tr>
	<tr class="tr2"><td colspan="2" class="tar">

		<a id="usetool" style="cursor:pointer" onclick="sendmsg('pw_ajax.php?action=usetool','',this.id)" data-mx-warn="Empty URL">[使用道具]</a>

		<br></td>
	</tr>
	<tr><td></td></tr>
</tbody></table></div>

<a name="tpc" data-mx-warn="Empty URL"></a>
<div class="t t2" style="border-top: 0px; --darkreader-inline-border-top: initial;" data-darkreader-inline-border-top=""><table cellspacing="0" cellpadding="0" width="100%" style="table-layout: fixed; border-top: 0px; --darkreader-inline-border-top: initial;" data-darkreader-inline-border-top="">
	<tbody><tr class="tr1"><th style="width:20%" rowspan="2" class="r_two">

		<img src="assets/1570959915-1cde2ccde0fc90dbe6db3784fc6ec383.gif" title="该用户目前不在线" align="absmiddle">

<b>ZOKKON</b>
<div style="margin:.3em 0 .4em .2em"></div>
<div class="user-pic"><table style="border: 0px; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left=""><tbody><tr><td width="1">

<a href="https://bbs.sumisora.net/profile.php?action=show&amp;uid=11713" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer"><img class="pic" src="assets/1570959915-bc3b3631a24154c2d9ba8189508a5212.gif" style="max-width:185px;max-height:200px;overflow:hidden" border="0"></a>

</td><td style="vertical-align:top"><span id="sf_0"></span></td></tr></tbody></table>
</div>
		级别: <font color="#555555" data-darkreader-inline-color="" style="--darkreader-inline-color:#cfc9be;">学生会会长</font><br>
		<img style="margin:.2em 0 .6em" src="assets/1570959915-0a01319a6cb0298e43987e75f6c15907.gif"><br>

<span class="user-info2" id="showface_0">
<span class="user-infoWrap2">


精华:

		<a href="https://bbs.sumisora.net/search.php?authorid=11713&amp;digest=1" target="_blank" class="s4 f9" referrerpolicy="no-referrer" rel="noopener noreferrer">3</a>
<br>
发帖: <span class="s1 f9">3860</span><br>
学分: <span class="s2 f9">388 点</span><br>
澄空币: <span class="s3 f9">936 KID</span><br>

		GPA: <span class="s2 f9">5 点</span><br>

		<span class="gray">注册时间:2005-06-04<br>
		最后登录:2019-01-23 <br><br> 
		<img src="assets/1570959915-a4a7b328b9562b14d22bc5cde7502240.gif" title="7号入学纪念勋章"> <img src="assets/1570959915-3b54a036ab9f8f95a1ba9dff384ccade.gif" title="白色相簿2汉化纪念勋章 - 小木曽雪菜ver."> <img src="assets/1570959915-40ee42ccf4e2cd804208994e3c43d220.gif" title="白色相簿2汉化纪念勋章 -&nbsp;冬马和纱ver."> <img src="assets/1570959915-a35b88018e1a9bd5135298f79ddcde37.gif" title="白色相簿重制版汉化纪念勋章 - 如月小夜子ver."> <img src="assets/1570959915-f062f095a0331d980e71be2a94b40e87.gif" title="白色相簿汉化团队纪念徽章"> <img src="assets/1570959915-e49341971c846113c5e151ccbe995072.gif" title="白色相簿2圣母徽章"> <br></span>
		</span></span>
		</th>
		<th height="100%" class="r_one" valign="top" id="td_tpc" style="padding: 5px 15px 0px; border: 0px; width: 80%; overflow: hidden; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="">
			<div class="tiptop">
			<span class="fl" style="white-space:nowrap;">
			<a href="https://bbs.sumisora.net/post.php?action=quote&amp;fid=78&amp;tid=203034&amp;pid=tpc&amp;article=0" onclick="return sendurl(this,4,event)" id="quote_tpc" title="引用回复这个帖子" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">引用</a> <a href="https://bbs.sumisora.net/post.php?action=modify&amp;fid=78&amp;tid=203034&amp;pid=tpc&amp;article=0" id="modify_tpc" onclick="return sendurl(this,4,event)" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">编辑</a>
			<a href="https://bbs.sumisora.net/message.php?action=write&amp;touid=11713" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">短信</a>

			<a href="https://bbs.sumisora.net/operate.php?action=report&amp;tid=203034&amp;pid=tpc" onclick="return sendurl(this,8)" id="report_tpc" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">举报</a>

			<a href="https://bbs.sumisora.net/read.php?tid=203034&amp;uid=11713" title="只看楼主的所有帖子" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">只看</a>

			<a style="cursor:pointer;" onclick="copyUrl('tpc')" title="此楼地址" data-mx-warn="Empty URL">锚点</a>
			</span>

			<div class="c"></div>
			</div>
			<h1 id="subject_tpc" class="fl">&nbsp;[源码] 抽取PS2版CLANNAD语音、图像</h1>
			

			<div id="p_tpc" class="c"></div>

<!--
-->

			<div class="tpc_content" id="read_tpc">前些日子无意中发现的东西。贴出来和大家分享一下。<br><br>只有主要部分。<br><br><span style="color: red; --darkreader-inline-color:#e63f3c;" data-darkreader-inline-color="">Clannad_GetFileInfo.h</span><br><h6 class="quote"><a href="javascript:" onclick="CopyCode(document.getElementById('code1'));" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">Copy code</a></h6><pre class="prettyprint" id="code1" style="border-radius:5px;font-family:monaco,consolas,monospace;font-size:12px;overflow-x:auto;line-height:1.4em"><span class="pln"> 
</span><span class="com">#pragma</span><span class="pln"> once

</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Clannad</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">ExtractData</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
</span><span class="kwd">protected</span><span class="pun">:</span><span class="pln">
 &nbsp;  </span><span class="kwd">struct</span><span class="pln"> </span><span class="typ">FileInfo</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">char</span><span class="pln"> name</span><span class="pun">[</span><span class="lit">128</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;   DWORD start</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   DWORD compsize</span><span class="pun">;</span><span class="pln">
 &nbsp;  </span><span class="pun">};</span><span class="pln">

 &nbsp;  BYTE </span><span class="pun">*</span><span class="pln">m_buf2</span><span class="pun">;</span><span class="pln">
 &nbsp;  BYTE </span><span class="pun">*</span><span class="pln">m_z_buf</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">public</span><span class="pun">:</span><span class="pln">
 &nbsp;  </span><span class="typ">Clannad</span><span class="pun">(</span><span class="typ">ExtractTag</span><span class="pln"> extTag</span><span class="pun">,</span><span class="pln"> </span><span class="typ">ProgressBar</span><span class="pln"> </span><span class="pun">*</span><span class="pln">progress</span><span class="pun">);</span><span class="pln">
 &nbsp;  </span><span class="pun">~</span><span class="typ">Clannad</span><span class="pun">();</span><span class="pln">
 &nbsp;  </span><span class="kwd">int</span><span class="pln"> </span><span class="typ">GetFileInfo</span><span class="pun">();</span><span class="pln">
 &nbsp;  </span><span class="kwd">int</span><span class="pln"> </span><span class="typ">Write</span><span class="pun">(</span><span class="pln">CFI file</span><span class="pun">,</span><span class="pln"> LPTSTR </span><span class="typ">LastSaveFolderDir</span><span class="pun">);</span><span class="pln">

 &nbsp;  </span><span class="kwd">inline</span><span class="pln"> DWORD getlongb</span><span class="pun">(</span><span class="pln">BYTE </span><span class="pun">*</span><span class="pln">p</span><span class="pun">);</span><span class="pln">
 &nbsp;  </span><span class="kwd">int</span><span class="pln"> getbits</span><span class="pun">(</span><span class="pln">BYTE </span><span class="pun">**</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> </span><span class="pun">*</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> </span><span class="pun">*</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> bits</span><span class="pun">);</span><span class="pln">
 &nbsp;  </span><span class="kwd">int</span><span class="pln"> decode_mzx</span><span class="pun">(</span><span class="pln">BYTE </span><span class="pun">*</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> BYTE </span><span class="pun">*</span><span class="pln">dst</span><span class="pun">,</span><span class="pln"> DWORD len</span><span class="pun">);</span><span class="pln">
 &nbsp;  </span><span class="kwd">void</span><span class="pln"> dct</span><span class="pun">(</span><span class="kwd">double</span><span class="pln"> </span><span class="pun">*</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">double</span><span class="pln"> </span><span class="pun">*</span><span class="pln">dst0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">double</span><span class="pln"> </span><span class="pun">*</span><span class="pln">dst1</span><span class="pun">);</span><span class="pln">
 &nbsp;  </span><span class="kwd">int</span><span class="pln"> decode_ahx</span><span class="pun">(</span><span class="pln">BYTE </span><span class="pun">*</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> BYTE </span><span class="pun">*</span><span class="pln">dst</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> srclen</span><span class="pun">);</span><span class="pln">
 &nbsp;  </span><span class="kwd">void</span><span class="pln"> fwrite_wav_hed</span><span class="pun">(</span><span class="pln">HANDLE wFile</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> len</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> freq</span><span class="pun">);</span><span class="pln">
</span><span class="pun">};</span></pre><br><br><span style="color: red; --darkreader-inline-color:#e63f3c;" data-darkreader-inline-color="">Clannad_GetFileInfo.cpp</span><br><h6 class="quote"><a href="javascript:" onclick="CopyCode(document.getElementById('code2'));" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">Copy code</a></h6><pre class="prettyprint" id="code2" style="border-radius:5px;font-family:monaco,consolas,monospace;font-size:12px;overflow-x:auto;line-height:1.4em"><span class="pln"> 
</span><span class="com">/*
 &nbsp;  Copyright (C) 2006
 &nbsp;  [url]http://pie.bbspink.com/test/read.cgi/leaf/1141063964/191[/url]
 &nbsp;  [url]http://pie.bbspink.com/test/read.cgi/leaf/1141063964/258[/url]

 &nbsp;  This program is free software; you can redistribute it and/or modify
 &nbsp;  it under the terms of the GNU General Public License as published by
 &nbsp;  the Free Software Foundation; either version 2 of the License, or
 &nbsp;  (at your option) any later version.

 &nbsp;  This program is distributed in the hope that it will be useful,
 &nbsp;  but WITHOUT ANY WARRANTY; without even the implied warranty of
 &nbsp;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 &nbsp;  GNU General Public License for more details.

 &nbsp;  You should have received a copy of the GNU General Public License
 &nbsp;  along with this program; if not, write to the Free Software
 &nbsp;  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA
*/</span><span class="pln">

</span><span class="com">// mpeg2 audio layer-2のデコード方法はmpg123を参考にしました</span><span class="pln">
</span><span class="com">// [url]http://www.mpg123.de/[/url]</span><span class="pln">

</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;math.h&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">"Clannad_GetFileInfo.h"</span><span class="pln">

</span><span class="com">#define</span><span class="pln"> M_PI &nbsp;  </span><span class="lit">3.14159265358979323846</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> bit_alloc_table</span><span class="pun">[</span><span class="lit">32</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="lit">4</span><span class="pun">,</span><span class="lit">4</span><span class="pun">,</span><span class="lit">4</span><span class="pun">,</span><span class="lit">4</span><span class="pun">,</span><span class="lit">3</span><span class="pun">,</span><span class="lit">3</span><span class="pun">,</span><span class="lit">3</span><span class="pun">,</span><span class="lit">3</span><span class="pun">,</span><span class="lit">3</span><span class="pun">,</span><span class="lit">3</span><span class="pun">,</span><span class="lit">3</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">2</span><span class="pln"> </span><span class="pun">};</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> offset_table</span><span class="pun">[</span><span class="lit">5</span><span class="pun">][</span><span class="lit">16</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln"> </span><span class="lit">0</span><span class="pun">},</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln"> </span><span class="lit">0</span><span class="pun">},</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln">  </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">,</span><span class="pln"> &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   </span><span class="pun">},</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln">  </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">,</span><span class="pln"> </span><span class="lit">5</span><span class="pun">,</span><span class="pln"> </span><span class="lit">6</span><span class="pun">,</span><span class="pln">  </span><span class="lit">7</span><span class="pun">,</span><span class="pln"> </span><span class="lit">8</span><span class="pun">,</span><span class="pln"> &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="pun">},</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln">  </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">,</span><span class="pln"> </span><span class="lit">5</span><span class="pun">,</span><span class="pln">  </span><span class="lit">6</span><span class="pun">,</span><span class="pln"> </span><span class="lit">7</span><span class="pun">,</span><span class="pln">  </span><span class="lit">8</span><span class="pun">,</span><span class="pln">  </span><span class="lit">9</span><span class="pun">,</span><span class="pln"> </span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="lit">11</span><span class="pun">,</span><span class="pln"> </span><span class="lit">12</span><span class="pun">,</span><span class="pln"> </span><span class="lit">13</span><span class="pun">,</span><span class="pln"> </span><span class="lit">14</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span><span class="pln">
</span><span class="kwd">struct</span><span class="pln"> quantclass </span><span class="pun">{</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> nlevels</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> bits</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> qc_table</span><span class="pun">[</span><span class="lit">17</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln"> &nbsp;   </span><span class="lit">3</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">5</span><span class="pun">},</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln"> &nbsp;   </span><span class="lit">5</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">7</span><span class="pun">},</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln"> &nbsp;   </span><span class="lit">7</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">3</span><span class="pun">},</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln"> &nbsp;   </span><span class="lit">9</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">10</span><span class="pun">},</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln"> &nbsp;  </span><span class="lit">15</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">4</span><span class="pun">},</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln"> &nbsp;  </span><span class="lit">31</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">5</span><span class="pun">},</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln"> &nbsp;  </span><span class="lit">63</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">6</span><span class="pun">},</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln"> &nbsp; </span><span class="lit">127</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">7</span><span class="pun">},</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln"> &nbsp; </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">8</span><span class="pun">},</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln"> &nbsp; </span><span class="lit">511</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">9</span><span class="pun">},</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln">  </span><span class="lit">1023</span><span class="pun">,</span><span class="pln">  </span><span class="lit">10</span><span class="pun">},</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln">  </span><span class="lit">2047</span><span class="pun">,</span><span class="pln">  </span><span class="lit">11</span><span class="pun">},</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln">  </span><span class="lit">4095</span><span class="pun">,</span><span class="pln">  </span><span class="lit">12</span><span class="pun">},</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln">  </span><span class="lit">8191</span><span class="pun">,</span><span class="pln">  </span><span class="lit">13</span><span class="pun">},</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln"> </span><span class="lit">16383</span><span class="pun">,</span><span class="pln">  </span><span class="lit">14</span><span class="pun">},</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln"> </span><span class="lit">32767</span><span class="pun">,</span><span class="pln">  </span><span class="lit">15</span><span class="pun">},</span><span class="pln">
 &nbsp;  </span><span class="pun">{</span><span class="pln"> </span><span class="lit">65535</span><span class="pun">,</span><span class="pln">  </span><span class="lit">16</span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> intwinbase</span><span class="pun">[</span><span class="lit">257</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;   </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="pun">-</span><span class="lit">2</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="pun">-</span><span class="lit">2</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="pun">-</span><span class="lit">2</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="pun">-</span><span class="lit">2</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="pun">-</span><span class="lit">3</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="pun">-</span><span class="lit">3</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="pun">-</span><span class="lit">4</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="pun">-</span><span class="lit">4</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="pun">-</span><span class="lit">5</span><span class="pun">,</span><span class="pln">
 &nbsp;  </span><span class="pun">-</span><span class="lit">5</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="pun">-</span><span class="lit">6</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="pun">-</span><span class="lit">7</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="pun">-</span><span class="lit">7</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="pun">-</span><span class="lit">8</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="pun">-</span><span class="lit">9</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">10</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">11</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">13</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">14</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">16</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">17</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">19</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">21</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">24</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">26</span><span class="pun">,</span><span class="pln">
 &nbsp; </span><span class="pun">-</span><span class="lit">29</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">31</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">35</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">38</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">41</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">45</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">49</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">53</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">58</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">63</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">68</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">73</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">79</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">85</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">91</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">97</span><span class="pun">,</span><span class="pln">
  </span><span class="pun">-</span><span class="lit">104</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">111</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">117</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">125</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">132</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">139</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">147</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">154</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">161</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">169</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">176</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">183</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">190</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">196</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">202</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">208</span><span class="pun">,</span><span class="pln">
  </span><span class="pun">-</span><span class="lit">213</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">218</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">222</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">225</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">227</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">228</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">228</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">227</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">224</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">221</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">215</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">208</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">200</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">189</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">177</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">163</span><span class="pun">,</span><span class="pln">
  </span><span class="pun">-</span><span class="lit">146</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">127</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">106</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">83</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">57</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">29</span><span class="pun">,</span><span class="pln"> &nbsp;   </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="lit">36</span><span class="pun">,</span><span class="pln"> &nbsp;  </span><span class="lit">72</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">111</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">153</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">197</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">244</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">294</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">347</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">401</span><span class="pun">,</span><span class="pln">
 &nbsp; </span><span class="lit">459</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">519</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">581</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">645</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">711</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">779</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">848</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">919</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">991</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1064</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1137</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1210</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1283</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1356</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1428</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1498</span><span class="pun">,</span><span class="pln">
  </span><span class="lit">1567</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1634</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1698</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1759</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1817</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1870</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1919</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1962</span><span class="pun">,</span><span class="pln">  </span><span class="lit">2001</span><span class="pun">,</span><span class="pln">  </span><span class="lit">2032</span><span class="pun">,</span><span class="pln">  </span><span class="lit">2057</span><span class="pun">,</span><span class="pln">  </span><span class="lit">2075</span><span class="pun">,</span><span class="pln">  </span><span class="lit">2085</span><span class="pun">,</span><span class="pln">  </span><span class="lit">2087</span><span class="pun">,</span><span class="pln">  </span><span class="lit">2080</span><span class="pun">,</span><span class="pln">  </span><span class="lit">2063</span><span class="pun">,</span><span class="pln">
  </span><span class="lit">2037</span><span class="pun">,</span><span class="pln">  </span><span class="lit">2000</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1952</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1893</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1822</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1739</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1644</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1535</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1414</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1280</span><span class="pun">,</span><span class="pln">  </span><span class="lit">1131</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">970</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">794</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">605</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">402</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">185</span><span class="pun">,</span><span class="pln">
 &nbsp; </span><span class="pun">-</span><span class="lit">45</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">288</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">545</span><span class="pun">,</span><span class="pln">  </span><span class="pun">-</span><span class="lit">814</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1095</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1388</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1692</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">2006</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">2330</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">2663</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">3004</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">3351</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">3705</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">4063</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">4425</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">4788</span><span class="pun">,</span><span class="pln">
 </span><span class="pun">-</span><span class="lit">5153</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">5517</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">5879</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">6237</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">6589</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">6935</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">7271</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">7597</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">7910</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">8209</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">8491</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">8755</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">8998</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">9219</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">9416</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">9585</span><span class="pun">,</span><span class="pln">
 </span><span class="pun">-</span><span class="lit">9727</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">9838</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">9916</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">9959</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">9966</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">9935</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">9863</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">9750</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">9592</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">9389</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">9139</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">8840</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">8492</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">8092</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">7640</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">7134</span><span class="pun">,</span><span class="pln">
 </span><span class="pun">-</span><span class="lit">6574</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">5959</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">5288</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">4561</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">3776</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">2935</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">2037</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1082</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="pun">-</span><span class="lit">70</span><span class="pun">,</span><span class="pln"> &nbsp; </span><span class="lit">998</span><span class="pun">,</span><span class="pln">  </span><span class="lit">2122</span><span class="pun">,</span><span class="pln">  </span><span class="lit">3300</span><span class="pun">,</span><span class="pln">  </span><span class="lit">4533</span><span class="pun">,</span><span class="pln">  </span><span class="lit">5818</span><span class="pun">,</span><span class="pln">  </span><span class="lit">7154</span><span class="pun">,</span><span class="pln">  </span><span class="lit">8540</span><span class="pun">,</span><span class="pln">
  </span><span class="lit">9975</span><span class="pun">,</span><span class="pln"> </span><span class="lit">11455</span><span class="pun">,</span><span class="pln"> </span><span class="lit">12980</span><span class="pun">,</span><span class="pln"> </span><span class="lit">14548</span><span class="pun">,</span><span class="pln"> </span><span class="lit">16155</span><span class="pun">,</span><span class="pln"> </span><span class="lit">17799</span><span class="pun">,</span><span class="pln"> </span><span class="lit">19478</span><span class="pun">,</span><span class="pln"> </span><span class="lit">21189</span><span class="pun">,</span><span class="pln"> </span><span class="lit">22929</span><span class="pun">,</span><span class="pln"> </span><span class="lit">24694</span><span class="pun">,</span><span class="pln"> </span><span class="lit">26482</span><span class="pun">,</span><span class="pln"> </span><span class="lit">28289</span><span class="pun">,</span><span class="pln"> </span><span class="lit">30112</span><span class="pun">,</span><span class="pln"> </span><span class="lit">31947</span><span class="pun">,</span><span class="pln"> </span><span class="lit">33791</span><span class="pun">,</span><span class="pln"> </span><span class="lit">35640</span><span class="pun">,</span><span class="pln">
 </span><span class="lit">37489</span><span class="pun">,</span><span class="pln"> </span><span class="lit">39336</span><span class="pun">,</span><span class="pln"> </span><span class="lit">41176</span><span class="pun">,</span><span class="pln"> </span><span class="lit">43006</span><span class="pun">,</span><span class="pln"> </span><span class="lit">44821</span><span class="pun">,</span><span class="pln"> </span><span class="lit">46617</span><span class="pun">,</span><span class="pln"> </span><span class="lit">48390</span><span class="pun">,</span><span class="pln"> </span><span class="lit">50137</span><span class="pun">,</span><span class="pln"> </span><span class="lit">51853</span><span class="pun">,</span><span class="pln"> </span><span class="lit">53534</span><span class="pun">,</span><span class="pln"> </span><span class="lit">55178</span><span class="pun">,</span><span class="pln"> </span><span class="lit">56778</span><span class="pun">,</span><span class="pln"> </span><span class="lit">58333</span><span class="pun">,</span><span class="pln"> </span><span class="lit">59838</span><span class="pun">,</span><span class="pln"> </span><span class="lit">61289</span><span class="pun">,</span><span class="pln"> </span><span class="lit">62684</span><span class="pun">,</span><span class="pln">
 </span><span class="lit">64019</span><span class="pun">,</span><span class="pln"> </span><span class="lit">65290</span><span class="pun">,</span><span class="pln"> </span><span class="lit">66494</span><span class="pun">,</span><span class="pln"> </span><span class="lit">67629</span><span class="pun">,</span><span class="pln"> </span><span class="lit">68692</span><span class="pun">,</span><span class="pln"> </span><span class="lit">69679</span><span class="pun">,</span><span class="pln"> </span><span class="lit">70590</span><span class="pun">,</span><span class="pln"> </span><span class="lit">71420</span><span class="pun">,</span><span class="pln"> </span><span class="lit">72169</span><span class="pun">,</span><span class="pln"> </span><span class="lit">72835</span><span class="pun">,</span><span class="pln"> </span><span class="lit">73415</span><span class="pun">,</span><span class="pln"> </span><span class="lit">73908</span><span class="pun">,</span><span class="pln"> </span><span class="lit">74313</span><span class="pun">,</span><span class="pln"> </span><span class="lit">74630</span><span class="pun">,</span><span class="pln"> </span><span class="lit">74856</span><span class="pun">,</span><span class="pln"> </span><span class="lit">74992</span><span class="pun">,</span><span class="pln">
 </span><span class="lit">75038</span><span class="pln">
</span><span class="pun">};</span><span class="pln">
</span><span class="kwd">double</span><span class="pln"> costable</span><span class="pun">[</span><span class="lit">5</span><span class="pun">][</span><span class="lit">16</span><span class="pun">],</span><span class="pln"> decwin</span><span class="pun">[</span><span class="lit">512</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">32</span><span class="pun">];</span><span class="pln">

</span><span class="typ">Clannad</span><span class="pun">::</span><span class="typ">Clannad</span><span class="pun">(</span><span class="typ">ExtractTag</span><span class="pln"> extTag</span><span class="pun">,</span><span class="pln"> </span><span class="typ">ProgressBar</span><span class="pln"> </span><span class="pun">*</span><span class="pln">progress</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="typ">ExtractData</span><span class="pun">(</span><span class="pln">extTag</span><span class="pun">,</span><span class="pln"> progress</span><span class="pun">)</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
 &nbsp;  m_buf2 </span><span class="pun">=</span><span class="pln"> NULL</span><span class="pun">;</span><span class="pln">
 &nbsp;  m_z_buf </span><span class="pun">=</span><span class="pln"> NULL</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="typ">Clannad</span><span class="pun">::~</span><span class="typ">Clannad</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
 &nbsp;  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">m_buf2</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">delete</span><span class="pun">[]</span><span class="pln"> m_buf2</span><span class="pun">;</span><span class="pln">
 &nbsp;  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">m_z_buf</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">delete</span><span class="pun">[]</span><span class="pln"> m_z_buf</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="com">// CLANNADのVOICE.MRGのファイル情報を取得する関数</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> </span><span class="typ">Clannad</span><span class="pun">::</span><span class="typ">GetFileInfo</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
 &nbsp;  </span><span class="typ">ExtractTag</span><span class="pln"> extTag </span><span class="pun">=</span><span class="pln"> m_extTag</span><span class="pun">;</span><span class="pln">
 &nbsp;  </span><span class="typ">ProgressBar</span><span class="pln"> </span><span class="pun">*</span><span class="pln">progress </span><span class="pun">=</span><span class="pln"> m_progress</span><span class="pun">;</span><span class="pln">
 &nbsp;  std</span><span class="pun">::</span><span class="pln">vector</span><span class="pun">&lt;</span><span class="pln">CFI</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">*</span><span class="pln">pCFileInfoList </span><span class="pun">=</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">g_CFileInfoList</span><span class="pun">;</span><span class="pln">

 &nbsp;  </span><span class="com">// アーカイブファイルサイズ取得</span><span class="pln">
 &nbsp;  DWORD </span><span class="typ">RestArchiveSize</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="typ">GetArchiveSize</span><span class="pun">(</span><span class="pln">extTag</span><span class="pun">.</span><span class="pln">arcFile</span><span class="pun">);</span><span class="pln">

 &nbsp;  </span><span class="com">// VOICE.HEDを開く</span><span class="pln">
 &nbsp;  TCHAR hedFileName</span><span class="pun">[</span><span class="pln">MAX_PATH</span><span class="pun">];</span><span class="pln">
 &nbsp;  lstrcpy</span><span class="pun">(</span><span class="pln">hedFileName</span><span class="pun">,</span><span class="pln"> extTag</span><span class="pun">.</span><span class="typ">FullArchiveName</span><span class="pun">.</span><span class="pln">c_str</span><span class="pun">());</span><span class="pln">
 &nbsp;  </span><span class="typ">PathRenameExtension</span><span class="pun">(</span><span class="pln">hedFileName</span><span class="pun">,</span><span class="pln"> </span><span class="str">".HED"</span><span class="pun">);</span><span class="pln">
 &nbsp;  HANDLE hedFile </span><span class="pun">=</span><span class="pln"> </span><span class="typ">CreateReadFile</span><span class="pun">(</span><span class="pln">hedFileName</span><span class="pun">);</span><span class="pln">
 &nbsp;  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">hedFile </span><span class="pun">==</span><span class="pln"> INVALID_HANDLE_VALUE</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">

 &nbsp;  </span><span class="com">// VOICE2.MRGだったら20000から始める</span><span class="pln">
 &nbsp;  DWORD count </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">extTag</span><span class="pun">.</span><span class="typ">ArchiveName</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">"VOICE.MRG"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="lit">20000</span><span class="pun">;</span><span class="pln">

 &nbsp;  </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;   WORD pos</span><span class="pun">,</span><span class="pln"> argSize</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="typ">ReadFile</span><span class="pun">(</span><span class="pln">hedFile</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">pos</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">sizeof</span><span class="pun">(</span><span class="pln">WORD</span><span class="pun">));</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="typ">ReadFile</span><span class="pun">(</span><span class="pln">hedFile</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">argSize</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">sizeof</span><span class="pun">(</span><span class="pln">WORD</span><span class="pun">));</span><span class="pln">

 &nbsp;  &nbsp;   </span><span class="com">// 最後まで読み込んだら終了</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">((</span><span class="pln">pos </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0xFFFF</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">argSize </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0xFFFF</span><span class="pun">))</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;   </span><span class="typ">FileInfo</span><span class="pln"> file</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">int</span><span class="pln"> section </span><span class="pun">=</span><span class="pln"> count </span><span class="pun">/</span><span class="pln"> </span><span class="lit">1000</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   wsprintf</span><span class="pun">(</span><span class="pln">file</span><span class="pun">.</span><span class="pln">name</span><span class="pun">,</span><span class="pln"> </span><span class="str">"KOE\\%04d\\Z%04d%05d.wav"</span><span class="pun">,</span><span class="pln"> section</span><span class="pun">,</span><span class="pln"> section</span><span class="pun">,</span><span class="pln"> count</span><span class="pun">++);</span><span class="pln">
 &nbsp;  &nbsp;   file</span><span class="pun">.</span><span class="pln">start </span><span class="pun">=</span><span class="pln"> pos </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0x800</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">argSize </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">0xf000</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0x8000</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   file</span><span class="pun">.</span><span class="pln">compsize </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">argSize </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">0xfff</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">0x800</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;   </span><span class="com">// リストビュー表示表の構造体に格納</span><span class="pln">
 &nbsp;  &nbsp;   CFI cfile</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   cfile</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> file</span><span class="pun">.</span><span class="pln">name</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   cfile</span><span class="pun">.</span><span class="pln">size </span><span class="pun">=</span><span class="pln"> file</span><span class="pun">.</span><span class="pln">compsize </span><span class="pun">*</span><span class="pln"> </span><span class="lit">6</span><span class="pun">;</span><span class="pln"> </span><span class="com">// 適当。32バイト解凍しないと展開後のファイルサイズが取得できない</span><span class="pln">
 &nbsp;  &nbsp;   cfile</span><span class="pun">.</span><span class="pln">compsize </span><span class="pun">=</span><span class="pln"> file</span><span class="pun">.</span><span class="pln">compsize</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   cfile</span><span class="pun">.</span><span class="pln">start </span><span class="pun">=</span><span class="pln"> file</span><span class="pun">.</span><span class="pln">start</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   cfile</span><span class="pun">.</span><span class="kwd">end</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> cfile</span><span class="pun">.</span><span class="pln">start </span><span class="pun">+</span><span class="pln"> cfile</span><span class="pun">.</span><span class="pln">compsize</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   cfile</span><span class="pun">.</span><span class="pln">format </span><span class="pun">=</span><span class="pln"> </span><span class="str">"AHX"</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   cfile</span><span class="pun">.</span><span class="pln">archive </span><span class="pun">=</span><span class="pln"> extTag</span><span class="pun">.</span><span class="typ">ArchiveName</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   cfile</span><span class="pun">.</span><span class="typ">FileID</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> extTag</span><span class="pun">.</span><span class="typ">FileID</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   pCFileInfoList</span><span class="pun">-&gt;</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">cfile</span><span class="pun">);</span><span class="pln">

 &nbsp;  &nbsp;   </span><span class="com">// キャンセル確認</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">progress</span><span class="pun">-&gt;</span><span class="typ">Cancel</span><span class="pun">())</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;   progress</span><span class="pun">-&gt;</span><span class="typ">UpdatePercent</span><span class="pun">(</span><span class="pln">cfile</span><span class="pun">.</span><span class="pln">compsize</span><span class="pun">);</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="typ">RestArchiveSize</span><span class="pln"> </span><span class="pun">-=</span><span class="pln"> cfile</span><span class="pun">.</span><span class="pln">compsize</span><span class="pun">;</span><span class="pln">
 &nbsp;  </span><span class="pun">}</span><span class="pln">
 &nbsp;  </span><span class="com">// 残ったサイズ分進める</span><span class="pln">
 &nbsp;  progress</span><span class="pun">-&gt;</span><span class="typ">UpdatePercent</span><span class="pun">(</span><span class="typ">RestArchiveSize</span><span class="pun">);</span><span class="pln">

 &nbsp;  </span><span class="typ">CloseHandle</span><span class="pun">(</span><span class="pln">hedFile</span><span class="pun">);</span><span class="pln">
 &nbsp;  </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">inline</span><span class="pln"> DWORD </span><span class="typ">Clannad</span><span class="pun">::</span><span class="pln">getlongb</span><span class="pun">(</span><span class="pln">BYTE </span><span class="pun">*</span><span class="pln">p</span><span class="pun">)</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
 &nbsp;  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">(</span><span class="pln">p</span><span class="pun">[</span><span class="lit">3</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">p</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="lit">8</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">((</span><span class="pln">p</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">p</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="lit">8</span><span class="pun">))</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="lit">16</span><span class="pun">));</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">int</span><span class="pln"> </span><span class="typ">Clannad</span><span class="pun">::</span><span class="pln">getbits</span><span class="pun">(</span><span class="pln">BYTE </span><span class="pun">**</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> </span><span class="pun">*</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> </span><span class="pun">*</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> bits</span><span class="pun">)</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
 &nbsp;  </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(*</span><span class="pln">bit_rest </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">24</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="pun">(*</span><span class="pln">bit_data</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;&lt;=</span><span class="pln"> </span><span class="lit">8</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="pun">(*</span><span class="pln">bit_data</span><span class="pun">)</span><span class="pln"> </span><span class="pun">|=</span><span class="pln"> </span><span class="pun">*(*</span><span class="pln">src</span><span class="pun">)++;</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="pun">(*</span><span class="pln">bit_rest</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">8</span><span class="pun">;</span><span class="pln">
 &nbsp;  </span><span class="pun">}</span><span class="pln">

 &nbsp;  </span><span class="kwd">int</span><span class="pln"> ret </span><span class="pun">=</span><span class="pln"> </span><span class="pun">((*</span><span class="pln">bit_data</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="pun">((*</span><span class="pln">bit_rest</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> bits</span><span class="pun">))</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln"> </span><span class="pun">((</span><span class="lit">1</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> bits</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
 &nbsp;  </span><span class="pun">(*</span><span class="pln">bit_rest</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-=</span><span class="pln"> bits</span><span class="pun">;</span><span class="pln">

 &nbsp;  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ret</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">int</span><span class="pln"> </span><span class="typ">Clannad</span><span class="pun">::</span><span class="pln">decode_mzx</span><span class="pun">(</span><span class="pln">BYTE </span><span class="pun">*</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> BYTE </span><span class="pun">*</span><span class="pln">dst</span><span class="pun">,</span><span class="pln"> DWORD len</span><span class="pun">)</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
 &nbsp;  BYTE ringbuf</span><span class="pun">[</span><span class="lit">128</span><span class="pun">],</span><span class="pln"> last1</span><span class="pun">,</span><span class="pln"> last2</span><span class="pun">;</span><span class="pln">

 &nbsp;  BYTE </span><span class="pun">*</span><span class="pln">psrc </span><span class="pun">=</span><span class="pln"> src </span><span class="pun">+</span><span class="pln"> </span><span class="lit">8</span><span class="pun">;</span><span class="pln">
 &nbsp;  BYTE </span><span class="pun">*</span><span class="pln">pdst </span><span class="pun">=</span><span class="pln"> dst</span><span class="pun">;</span><span class="pln">
 &nbsp;  DWORD ring_wpos </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
 &nbsp;  </span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> j</span><span class="pun">,</span><span class="pln"> k</span><span class="pun">;</span><span class="pln">
 &nbsp;  </span><span class="kwd">int</span><span class="pln"> clear_count </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">

 &nbsp;  </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="pun">&lt;</span><span class="pln"> len</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">clear_count </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; clear_count </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0x1000</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; last1 </span><span class="pun">=</span><span class="pln"> last2 </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="pun">}</span><span class="pln">
 &nbsp;  &nbsp;   clear_count </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">(*</span><span class="pln">psrc </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">3</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="pun">(*</span><span class="pln">psrc </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;   </span><span class="kwd">switch</span><span class="pln"> </span><span class="pun">(*</span><span class="pln">psrc </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">3</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">0</span><span class="pun">:</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">j </span><span class="pun">=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">psrc </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln"> j </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> j</span><span class="pun">--)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   </span><span class="pun">*</span><span class="pln">pdst</span><span class="pun">++</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> last1</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   </span><span class="pun">*</span><span class="pln">pdst</span><span class="pun">++</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> last2</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   i </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="pun">}</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  psrc</span><span class="pun">++;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">1</span><span class="pun">:</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  j </span><span class="pun">=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">psrc</span><span class="pun">++</span><span class="pln"> </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  k </span><span class="pun">=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">psrc</span><span class="pun">++;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  k </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="pln">k </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">;</span><span class="pln"> j </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> j</span><span class="pun">--)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   </span><span class="pun">*</span><span class="pln">pdst </span><span class="pun">=</span><span class="pln"> pdst</span><span class="pun">[</span><span class="pln">k</span><span class="pun">];</span><span class="pln"> pdst</span><span class="pun">++;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   </span><span class="pun">*</span><span class="pln">pdst </span><span class="pun">=</span><span class="pln"> pdst</span><span class="pun">[</span><span class="pln">k</span><span class="pun">];</span><span class="pln"> pdst</span><span class="pun">++;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   i </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="pun">}</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  last1 </span><span class="pun">=</span><span class="pln"> pdst</span><span class="pun">[-</span><span class="lit">2</span><span class="pun">];</span><span class="pln"> </span><span class="com">// インクリメントでずらしているため、マイナスでアクセスできる(多分)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  last2 </span><span class="pun">=</span><span class="pln"> pdst</span><span class="pun">[-</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">2</span><span class="pun">:</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  last1 </span><span class="pun">=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">pdst</span><span class="pun">++</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> ringbuf</span><span class="pun">[(*</span><span class="pln">psrc </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  last2 </span><span class="pun">=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">pdst</span><span class="pun">++</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> ringbuf</span><span class="pun">[(*</span><span class="pln">psrc </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  i </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  psrc</span><span class="pun">++;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">default</span><span class="pun">:</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">j </span><span class="pun">=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">psrc</span><span class="pun">++</span><span class="pln"> </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln"> j </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> j</span><span class="pun">--){</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   last1 </span><span class="pun">=</span><span class="pln"> ringbuf</span><span class="pun">[</span><span class="pln">ring_wpos</span><span class="pun">++]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">pdst</span><span class="pun">++</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">psrc</span><span class="pun">++;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   last2 </span><span class="pun">=</span><span class="pln"> ringbuf</span><span class="pun">[</span><span class="pln">ring_wpos</span><span class="pun">++]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">pdst</span><span class="pun">++</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">psrc</span><span class="pun">++;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   ring_wpos </span><span class="pun">&amp;=</span><span class="pln"> </span><span class="lit">0x7f</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   i </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="pun">}</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="pun">}</span><span class="pln">
 &nbsp;  </span><span class="pun">}</span><span class="pln">

 &nbsp;  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">(</span><span class="pln">len</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">void</span><span class="pln"> </span><span class="typ">Clannad</span><span class="pun">::</span><span class="pln">dct</span><span class="pun">(</span><span class="kwd">double</span><span class="pln"> </span><span class="pun">*</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">double</span><span class="pln"> </span><span class="pun">*</span><span class="pln">dst0</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">double</span><span class="pln"> </span><span class="pun">*</span><span class="pln">dst1</span><span class="pun">)</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
 &nbsp;  </span><span class="kwd">double</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">2</span><span class="pun">][</span><span class="lit">32</span><span class="pun">];</span><span class="pln">

 &nbsp;  </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">32</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">16</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> src</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> src</span><span class="pun">[</span><span class="lit">31</span><span class="pln"> </span><span class="pun">^</span><span class="pln"> i</span><span class="pun">])</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> costable</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][~</span><span class="pln">i </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">15</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">else</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> src</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> src</span><span class="pun">[</span><span class="lit">31</span><span class="pln"> </span><span class="pun">^</span><span class="pln"> i</span><span class="pun">]);</span><span class="pln">
 &nbsp;  </span><span class="pun">}</span><span class="pln">

 &nbsp;  </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">32</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">8</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; tmp</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">15</span><span class="pln"> </span><span class="pun">^</span><span class="pln"> i</span><span class="pun">])</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> costable</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][~</span><span class="pln">i </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">7</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="pun">((</span><span class="pln">i </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">16</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1.0</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="lit">1.0</span><span class="pun">);</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">else</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; tmp</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">15</span><span class="pln"> </span><span class="pun">^</span><span class="pln"> i</span><span class="pun">]);</span><span class="pln">
 &nbsp;  </span><span class="pun">}</span><span class="pln">

 &nbsp;  </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">32</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">4</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][</span><span class="lit">7</span><span class="pln"> </span><span class="pun">^</span><span class="pln"> i</span><span class="pun">])</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> costable</span><span class="pun">[</span><span class="lit">2</span><span class="pun">][~</span><span class="pln">i </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">3</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="pun">((</span><span class="pln">i </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">8</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1.0</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="lit">1.0</span><span class="pun">);</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">else</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][</span><span class="lit">7</span><span class="pln"> </span><span class="pun">^</span><span class="pln"> i</span><span class="pun">]);</span><span class="pln">
 &nbsp;  </span><span class="pun">}</span><span class="pln">

 &nbsp;  </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">32</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; tmp</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">3</span><span class="pln"> </span><span class="pun">^</span><span class="pln"> i</span><span class="pun">])</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> costable</span><span class="pun">[</span><span class="lit">3</span><span class="pun">][~</span><span class="pln">i </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="pun">((</span><span class="pln">i </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">4</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1.0</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="lit">1.0</span><span class="pun">);</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">else</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; tmp</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">3</span><span class="pln"> </span><span class="pun">^</span><span class="pln"> i</span><span class="pun">]);</span><span class="pln">
 &nbsp;  </span><span class="pun">}</span><span class="pln">

 &nbsp;  </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">32</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][</span><span class="lit">1</span><span class="pln"> </span><span class="pun">^</span><span class="pln"> i</span><span class="pun">])</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> costable</span><span class="pun">[</span><span class="lit">4</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="pun">((</span><span class="pln">i </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1.0</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="lit">1.0</span><span class="pun">);</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">else</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][</span><span class="lit">1</span><span class="pln"> </span><span class="pun">^</span><span class="pln"> i</span><span class="pun">]);</span><span class="pln">
 &nbsp;  </span><span class="pun">}</span><span class="pln">

 &nbsp;  </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">8</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln">
 &nbsp;  &nbsp;   tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">3</span><span class="pun">];</span><span class="pln">

 &nbsp;  </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">4</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;   tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">8</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">4</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">8</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">6</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;   tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">8</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">6</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">8</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">5</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;   tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">8</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">5</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">8</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">7</span><span class="pun">];</span><span class="pln">
 &nbsp;  </span><span class="pun">}</span><span class="pln">

 &nbsp;  </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;   tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">8</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">12</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;   tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">12</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">10</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;   tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">10</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">14</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;   tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">14</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">9</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;   tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">9</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">13</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;   tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">13</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">11</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;   tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">11</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">15</span><span class="pun">];</span><span class="pln">
 &nbsp;  </span><span class="pun">}</span><span class="pln">

 &nbsp;  dst0</span><span class="pun">[</span><span class="lit">16</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst0</span><span class="pun">[</span><span class="lit">15</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">8</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst0</span><span class="pun">[</span><span class="lit">14</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">8</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst0</span><span class="pun">[</span><span class="lit">13</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">8</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">4</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst0</span><span class="pun">[</span><span class="lit">12</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">4</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst0</span><span class="pun">[</span><span class="lit">11</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">4</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">12</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst0</span><span class="pun">[</span><span class="lit">10</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">12</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst0</span><span class="pun">[</span><span class="pln"> </span><span class="lit">9</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">12</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">2</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst0</span><span class="pun">[</span><span class="pln"> </span><span class="lit">8</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">2</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst0</span><span class="pun">[</span><span class="pln"> </span><span class="lit">7</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">10</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst0</span><span class="pun">[</span><span class="pln"> </span><span class="lit">6</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">10</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst0</span><span class="pun">[</span><span class="pln"> </span><span class="lit">5</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">10</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">6</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst0</span><span class="pun">[</span><span class="pln"> </span><span class="lit">4</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">6</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst0</span><span class="pun">[</span><span class="pln"> </span><span class="lit">3</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">6</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">14</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst0</span><span class="pun">[</span><span class="pln"> </span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">14</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst0</span><span class="pun">[</span><span class="pln"> </span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">14</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">1</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst0</span><span class="pun">[</span><span class="pln"> </span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">1</span><span class="pun">];</span><span class="pln">

 &nbsp;  dst1</span><span class="pun">[</span><span class="pln"> </span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst1</span><span class="pun">[</span><span class="pln"> </span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">9</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst1</span><span class="pun">[</span><span class="pln"> </span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">9</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst1</span><span class="pun">[</span><span class="pln"> </span><span class="lit">3</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">9</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">5</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst1</span><span class="pun">[</span><span class="pln"> </span><span class="lit">4</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">5</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst1</span><span class="pun">[</span><span class="pln"> </span><span class="lit">5</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">5</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">13</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst1</span><span class="pun">[</span><span class="pln"> </span><span class="lit">6</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">13</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst1</span><span class="pun">[</span><span class="pln"> </span><span class="lit">7</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">13</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">3</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst1</span><span class="pun">[</span><span class="pln"> </span><span class="lit">8</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">3</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst1</span><span class="pun">[</span><span class="pln"> </span><span class="lit">9</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">3</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">11</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst1</span><span class="pun">[</span><span class="lit">10</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">11</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst1</span><span class="pun">[</span><span class="lit">11</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">11</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">7</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst1</span><span class="pun">[</span><span class="lit">12</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">7</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst1</span><span class="pun">[</span><span class="lit">13</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="lit">7</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">15</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst1</span><span class="pun">[</span><span class="lit">14</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">15</span><span class="pun">];</span><span class="pln">
 &nbsp;  dst1</span><span class="pun">[</span><span class="lit">15</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tmp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">15</span><span class="pun">];</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">int</span><span class="pln"> </span><span class="typ">Clannad</span><span class="pun">::</span><span class="pln">decode_ahx</span><span class="pun">(</span><span class="pln">BYTE </span><span class="pun">*</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> BYTE </span><span class="pun">*</span><span class="pln">dst</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> srclen</span><span class="pun">)</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
 &nbsp;  </span><span class="kwd">double</span><span class="pln"> powtable</span><span class="pun">[</span><span class="lit">64</span><span class="pun">];</span><span class="pln">
 &nbsp;  </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">64</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln">
 &nbsp;  &nbsp;   powtable</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> pow</span><span class="pun">(</span><span class="lit">2.0</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="lit">3</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> i</span><span class="pun">)</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">3.0</span><span class="pun">);</span><span class="pln">

 &nbsp;  </span><span class="kwd">double</span><span class="pln"> sbsamples</span><span class="pun">[</span><span class="lit">36</span><span class="pun">][</span><span class="lit">32</span><span class="pun">];</span><span class="pln">
 &nbsp;  </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">36</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> sb </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> sb </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">32</span><span class="pun">;</span><span class="pln"> sb</span><span class="pun">++)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; sbsamples</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="pln">sb</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0.0</span><span class="pun">;</span><span class="pln">

 &nbsp;  </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">16</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln">
 &nbsp;  &nbsp;   costable</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0.5</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> cos</span><span class="pun">(</span><span class="pln">M_PI </span><span class="pun">*</span><span class="pln"> </span><span class="pun">((</span><span class="kwd">double</span><span class="pun">)</span><span class="pln"> i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2.0</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1.0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">64.0</span><span class="pun">);</span><span class="pln">

 &nbsp;  </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">8</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln">
 &nbsp;  &nbsp;   costable</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0.5</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> cos</span><span class="pun">(</span><span class="pln">M_PI </span><span class="pun">*</span><span class="pln"> </span><span class="pun">((</span><span class="kwd">double</span><span class="pun">)</span><span class="pln"> i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2.0</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1.0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">32.0</span><span class="pun">);</span><span class="pln">

 &nbsp;  </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">4</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln">
 &nbsp;  &nbsp;   costable</span><span class="pun">[</span><span class="lit">2</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0.5</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> cos</span><span class="pun">(</span><span class="pln">M_PI </span><span class="pun">*</span><span class="pln"> </span><span class="pun">((</span><span class="kwd">double</span><span class="pun">)</span><span class="pln"> i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2.0</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1.0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">16.0</span><span class="pun">);</span><span class="pln">

 &nbsp;  </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln">
 &nbsp;  &nbsp;   costable</span><span class="pun">[</span><span class="lit">3</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0.5</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> cos</span><span class="pun">(</span><span class="pln">M_PI </span><span class="pun">*</span><span class="pln"> </span><span class="pun">((</span><span class="kwd">double</span><span class="pun">)</span><span class="pln"> i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2.0</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1.0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">/</span><span class="pln">  </span><span class="lit">8.0</span><span class="pun">);</span><span class="pln">

 &nbsp;  </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln">
 &nbsp;  &nbsp;   costable</span><span class="pun">[</span><span class="lit">4</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0.5</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> cos</span><span class="pun">(</span><span class="pln">M_PI </span><span class="pun">*</span><span class="pln"> </span><span class="pun">((</span><span class="kwd">double</span><span class="pun">)</span><span class="pln"> i </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2.0</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1.0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">/</span><span class="pln">  </span><span class="lit">4.0</span><span class="pun">);</span><span class="pln">

 &nbsp;  </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> j </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">256</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++,</span><span class="pln"> j </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">32</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">j </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">512</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">16</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; decwin</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> decwin</span><span class="pun">[</span><span class="pln">j </span><span class="pun">+</span><span class="pln"> </span><span class="lit">16</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> intwinbase</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">65536.0</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">32768.0</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="pun">((</span><span class="pln">i </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">64</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="pun">+</span><span class="lit">1.0</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1.0</span><span class="pun">);</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">((</span><span class="pln">i </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">31</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">31</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; j </span><span class="pun">-=</span><span class="pln"> </span><span class="lit">1023</span><span class="pun">;</span><span class="pln">
 &nbsp;  </span><span class="pun">}</span><span class="pln">

 &nbsp;  </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> j </span><span class="pun">=</span><span class="pln"> </span><span class="lit">8</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">256</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++,</span><span class="pln"> j </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">32</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">j </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">512</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">16</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; decwin</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> decwin</span><span class="pun">[</span><span class="pln">j </span><span class="pun">+</span><span class="pln"> </span><span class="lit">16</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> intwinbase</span><span class="pun">[</span><span class="lit">256</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">65536.0</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">32768.0</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="pun">((</span><span class="pln">i </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">64</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="pun">+</span><span class="lit">1.0</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1.0</span><span class="pun">);</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">((</span><span class="pln">i </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">31</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">31</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; j </span><span class="pun">-=</span><span class="pln"> </span><span class="lit">1023</span><span class="pun">;</span><span class="pln">
 &nbsp;  </span><span class="pun">}</span><span class="pln">

 &nbsp;  src </span><span class="pun">+=</span><span class="pln"> src</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">256</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> src</span><span class="pun">[</span><span class="lit">3</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">4</span><span class="pun">;</span><span class="pln">
 &nbsp;  </span><span class="kwd">int</span><span class="pln"> phase </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
 &nbsp;  </span><span class="kwd">int</span><span class="pln"> bit_alloc</span><span class="pun">[</span><span class="lit">32</span><span class="pun">],</span><span class="pln"> scfsi</span><span class="pun">[</span><span class="lit">32</span><span class="pun">],</span><span class="pln"> scalefactor</span><span class="pun">[</span><span class="lit">32</span><span class="pun">][</span><span class="lit">3</span><span class="pun">];</span><span class="pln">
 &nbsp;  </span><span class="kwd">double</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="lit">2</span><span class="pun">][</span><span class="lit">16</span><span class="pun">][</span><span class="lit">17</span><span class="pun">];</span><span class="pln">
 &nbsp;  </span><span class="kwd">short</span><span class="pln"> </span><span class="pun">*</span><span class="pln">dst_p </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">short</span><span class="pln"> </span><span class="pun">*)</span><span class="pln">dst</span><span class="pun">;</span><span class="pln">
 &nbsp;  </span><span class="kwd">int</span><span class="pln"> bit_rest </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> bit_data</span><span class="pun">;</span><span class="pln">
 &nbsp;  BYTE </span><span class="pun">*</span><span class="pln">src_start </span><span class="pun">=</span><span class="pln"> src</span><span class="pun">;</span><span class="pln">
 &nbsp;  </span><span class="kwd">int</span><span class="pln"> frame </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">

 &nbsp;  </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">src </span><span class="pun">-</span><span class="pln"> src_start </span><span class="pun">&lt;</span><span class="pln"> srclen </span><span class="pun">&amp;&amp;</span><span class="pln"> getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="lit">12</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0xfff</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;   frame</span><span class="pun">++;</span><span class="pln">
 &nbsp;  &nbsp;   getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"> &nbsp;  </span><span class="com">// LSF</span><span class="pln">
 &nbsp;  &nbsp;   getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln"> &nbsp;  </span><span class="com">// layer</span><span class="pln">
 &nbsp;  &nbsp;   getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"> &nbsp;  </span><span class="com">// CRC</span><span class="pln">
 &nbsp;  &nbsp;   getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">);</span><span class="pln"> &nbsp;  </span><span class="com">// bitrate</span><span class="pln">
 &nbsp;  &nbsp;   getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln"> &nbsp;  </span><span class="com">// freq</span><span class="pln">
 &nbsp;  &nbsp;   getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"> &nbsp;  </span><span class="com">// padding</span><span class="pln">
 &nbsp;  &nbsp;   getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"> &nbsp;  </span><span class="com">// gap</span><span class="pln">
 &nbsp;  &nbsp;   getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln"> &nbsp;  </span><span class="com">// mode</span><span class="pln">
 &nbsp;  &nbsp;   getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln"> &nbsp;  </span><span class="com">// mode_ext</span><span class="pln">
 &nbsp;  &nbsp;   getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"> &nbsp;  </span><span class="com">// protect</span><span class="pln">
 &nbsp;  &nbsp;   getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"> &nbsp;  </span><span class="com">// copy</span><span class="pln">
 &nbsp;  &nbsp;   getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln"> &nbsp;  </span><span class="com">// emphasis</span><span class="pln">

 &nbsp;  &nbsp;   </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> sb </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> sb </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">30</span><span class="pun">;</span><span class="pln"> sb</span><span class="pun">++)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; bit_alloc</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> bit_alloc_table</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">]);</span><span class="pln">

 &nbsp;  &nbsp;   </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> sb </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> sb </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">30</span><span class="pun">;</span><span class="pln"> sb</span><span class="pun">++)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bit_alloc</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">])</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  scfsi</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln">

 &nbsp;  &nbsp;   </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> sb </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> sb </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">30</span><span class="pun">;</span><span class="pln"> sb</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bit_alloc</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  scalefactor</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="lit">6</span><span class="pun">);</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="kwd">switch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">scfsi</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">0</span><span class="pun">:</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; scalefactor</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="lit">6</span><span class="pun">);</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; scalefactor</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">][</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="lit">6</span><span class="pun">);</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">1</span><span class="pun">:</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; scalefactor</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> scalefactor</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">][</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; scalefactor</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">][</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="lit">6</span><span class="pun">);</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">2</span><span class="pun">:</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; scalefactor</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> scalefactor</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">][</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; scalefactor</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">][</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> scalefactor</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">][</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">3</span><span class="pun">:</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; scalefactor</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> scalefactor</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">][</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="lit">6</span><span class="pun">);</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="pun">}</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="pun">}</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="pun">}</span><span class="pln">

 &nbsp;  &nbsp;   </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> gr </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> gr </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">12</span><span class="pun">;</span><span class="pln"> gr</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> sb </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> sb </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">30</span><span class="pun">;</span><span class="pln"> sb</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bit_alloc</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   </span><span class="kwd">int</span><span class="pln"> index </span><span class="pun">=</span><span class="pln"> offset_table</span><span class="pun">[</span><span class="pln">bit_alloc_table</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">]][</span><span class="pln">bit_alloc</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">]</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   </span><span class="kwd">int</span><span class="pln"> q</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">qc_table</span><span class="pun">[</span><span class="pln">index</span><span class="pun">].</span><span class="pln">bits </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">int</span><span class="pln"> t </span><span class="pun">=</span><span class="pln"> getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="pln">qc_table</span><span class="pun">[</span><span class="pln">index</span><span class="pun">].</span><span class="pln">bits</span><span class="pun">);</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; q </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">t </span><span class="pun">%</span><span class="pln"> qc_table</span><span class="pun">[</span><span class="pln">index</span><span class="pun">].</span><span class="pln">nlevels</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">-</span><span class="pln">qc_table</span><span class="pun">[</span><span class="pln">index</span><span class="pun">].</span><span class="pln">nlevels </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; sbsamples</span><span class="pun">[</span><span class="pln">gr </span><span class="pun">*</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0</span><span class="pun">][</span><span class="pln">sb</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">double</span><span class="pun">)</span><span class="pln">q </span><span class="pun">/</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">double</span><span class="pun">)</span><span class="pln">qc_table</span><span class="pun">[</span><span class="pln">index</span><span class="pun">].</span><span class="pln">nlevels</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; t </span><span class="pun">/=</span><span class="pln"> qc_table</span><span class="pun">[</span><span class="pln">index</span><span class="pun">].</span><span class="pln">nlevels</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; q </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">t </span><span class="pun">%</span><span class="pln"> qc_table</span><span class="pun">[</span><span class="pln">index</span><span class="pun">].</span><span class="pln">nlevels</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">-</span><span class="pln">qc_table</span><span class="pun">[</span><span class="pln">index</span><span class="pun">].</span><span class="pln">nlevels </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; sbsamples</span><span class="pun">[</span><span class="pln">gr </span><span class="pun">*</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">][</span><span class="pln">sb</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">double</span><span class="pun">)</span><span class="pln">q </span><span class="pun">/</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">double</span><span class="pun">)</span><span class="pln">qc_table</span><span class="pun">[</span><span class="pln">index</span><span class="pun">].</span><span class="pln">nlevels</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; t </span><span class="pun">/=</span><span class="pln"> qc_table</span><span class="pun">[</span><span class="pln">index</span><span class="pun">].</span><span class="pln">nlevels</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; q </span><span class="pun">=</span><span class="pln"> t </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">-</span><span class="pln">qc_table</span><span class="pun">[</span><span class="pln">index</span><span class="pun">].</span><span class="pln">nlevels </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; sbsamples</span><span class="pun">[</span><span class="pln">gr </span><span class="pun">*</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">][</span><span class="pln">sb</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">double</span><span class="pun">)</span><span class="pln">q </span><span class="pun">/</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">double</span><span class="pun">)</span><span class="pln">qc_table</span><span class="pun">[</span><span class="pln">index</span><span class="pun">].</span><span class="pln">nlevels</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   </span><span class="pun">}</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; q </span><span class="pun">=</span><span class="pln"> getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> qc_table</span><span class="pun">[</span><span class="pln">index</span><span class="pun">].</span><span class="pln">bits</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> qc_table</span><span class="pun">[</span><span class="pln">index</span><span class="pun">].</span><span class="pln">nlevels </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; sbsamples</span><span class="pun">[</span><span class="pln">gr </span><span class="pun">*</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0</span><span class="pun">][</span><span class="pln">sb</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">double</span><span class="pun">)</span><span class="pln">q </span><span class="pun">/</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">double</span><span class="pun">)</span><span class="pln">qc_table</span><span class="pun">[</span><span class="pln">index</span><span class="pun">].</span><span class="pln">nlevels</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; q </span><span class="pun">=</span><span class="pln"> getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> qc_table</span><span class="pun">[</span><span class="pln">index</span><span class="pun">].</span><span class="pln">bits</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> qc_table</span><span class="pun">[</span><span class="pln">index</span><span class="pun">].</span><span class="pln">nlevels </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; sbsamples</span><span class="pun">[</span><span class="pln">gr </span><span class="pun">*</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">][</span><span class="pln">sb</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">double</span><span class="pun">)</span><span class="pln"> q </span><span class="pun">/</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">double</span><span class="pun">)</span><span class="pln"> qc_table</span><span class="pun">[</span><span class="pln">index</span><span class="pun">].</span><span class="pln">nlevels</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; q </span><span class="pun">=</span><span class="pln"> getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> qc_table</span><span class="pun">[</span><span class="pln">index</span><span class="pun">].</span><span class="pln">bits</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> qc_table</span><span class="pun">[</span><span class="pln">index</span><span class="pun">].</span><span class="pln">nlevels </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; sbsamples</span><span class="pun">[</span><span class="pln">gr </span><span class="pun">*</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">][</span><span class="pln">sb</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">double</span><span class="pun">)</span><span class="pln">q </span><span class="pun">/</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">double</span><span class="pun">)</span><span class="pln">qc_table</span><span class="pun">[</span><span class="pln">index</span><span class="pun">].</span><span class="pln">nlevels</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   </span><span class="pun">}</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="pun">}</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   sbsamples</span><span class="pun">[</span><span class="pln">gr </span><span class="pun">*</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0</span><span class="pun">][</span><span class="pln">sb</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   sbsamples</span><span class="pun">[</span><span class="pln">gr </span><span class="pun">*</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">][</span><span class="pln">sb</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   sbsamples</span><span class="pun">[</span><span class="pln">gr </span><span class="pun">*</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">][</span><span class="pln">sb</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="pun">}</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sbsamples</span><span class="pun">[</span><span class="pln">gr </span><span class="pun">*</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0</span><span class="pun">][</span><span class="pln">sb</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*=</span><span class="pln"> powtable</span><span class="pun">[</span><span class="pln">scalefactor</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">][</span><span class="pln">gr </span><span class="pun">/</span><span class="pln"> </span><span class="lit">4</span><span class="pun">]];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sbsamples</span><span class="pun">[</span><span class="pln">gr </span><span class="pun">*</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">][</span><span class="pln">sb</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*=</span><span class="pln"> powtable</span><span class="pun">[</span><span class="pln">scalefactor</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">][</span><span class="pln">gr </span><span class="pun">/</span><span class="pln"> </span><span class="lit">4</span><span class="pun">]];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sbsamples</span><span class="pun">[</span><span class="pln">gr </span><span class="pun">*</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">][</span><span class="pln">sb</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*=</span><span class="pln"> powtable</span><span class="pun">[</span><span class="pln">scalefactor</span><span class="pun">[</span><span class="pln">sb</span><span class="pun">][</span><span class="pln">gr </span><span class="pun">/</span><span class="pln"> </span><span class="lit">4</span><span class="pun">]];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="pun">}</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="pun">}</span><span class="pln">

 &nbsp;  &nbsp;   </span><span class="com">// synth</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> gr </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> gr </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">36</span><span class="pun">;</span><span class="pln"> gr</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">phase </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  dct</span><span class="pun">(</span><span class="pln">sbsamples</span><span class="pun">[</span><span class="pln">gr</span><span class="pun">],</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][(</span><span class="pln">phase </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">15</span><span class="pun">],</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][</span><span class="pln">phase</span><span class="pun">]);</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">else</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  dct</span><span class="pun">(</span><span class="pln">sbsamples</span><span class="pun">[</span><span class="pln">gr</span><span class="pun">],</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][</span><span class="pln">phase</span><span class="pun">],</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="pln">phase </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">]);</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">double</span><span class="pln"> sum</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">double</span><span class="pln"> </span><span class="pun">*</span><span class="pln">win </span><span class="pun">=</span><span class="pln"> decwin </span><span class="pun">+</span><span class="pln"> </span><span class="lit">16</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="pun">(</span><span class="pln">phase </span><span class="pun">|</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">16</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum  </span><span class="pun">=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">win</span><span class="pun">++</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">win</span><span class="pun">++</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">1</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">+=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">win</span><span class="pun">++</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">2</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">win</span><span class="pun">++</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">3</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">+=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">win</span><span class="pun">++</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">4</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">win</span><span class="pun">++</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">5</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">+=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">win</span><span class="pun">++</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">6</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">win</span><span class="pun">++</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">7</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">+=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">win</span><span class="pun">++</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">8</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">win</span><span class="pun">++</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">9</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">+=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">win</span><span class="pun">++</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">10</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">win</span><span class="pun">++</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">11</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">+=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">win</span><span class="pun">++</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">12</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">win</span><span class="pun">++</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">13</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">+=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">win</span><span class="pun">++</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">14</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*</span><span class="pln">win</span><span class="pun">++</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">15</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">sum </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">32767</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   </span><span class="pun">*</span><span class="pln">dst_p</span><span class="pun">++</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">32767</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">sum </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">32767</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   </span><span class="pun">*</span><span class="pln">dst_p</span><span class="pun">++</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">32767</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="kwd">else</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   </span><span class="pun">*</span><span class="pln">dst_p</span><span class="pun">++</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> sum</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  win </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">16</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="pun">}</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp; sum  </span><span class="pun">=</span><span class="pln"> win</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">][</span><span class="lit">0</span><span class="pun">][</span><span class="lit">16</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; sum </span><span class="pun">+=</span><span class="pln"> win</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">][</span><span class="lit">2</span><span class="pun">][</span><span class="lit">16</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; sum </span><span class="pun">+=</span><span class="pln"> win</span><span class="pun">[</span><span class="lit">4</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">][</span><span class="lit">4</span><span class="pun">][</span><span class="lit">16</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; sum </span><span class="pun">+=</span><span class="pln"> win</span><span class="pun">[</span><span class="lit">6</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">][</span><span class="lit">6</span><span class="pun">][</span><span class="lit">16</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; sum </span><span class="pun">+=</span><span class="pln"> win</span><span class="pun">[</span><span class="lit">8</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">][</span><span class="lit">8</span><span class="pun">][</span><span class="lit">16</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; sum </span><span class="pun">+=</span><span class="pln"> win</span><span class="pun">[</span><span class="lit">10</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">][</span><span class="lit">10</span><span class="pun">][</span><span class="lit">16</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; sum </span><span class="pun">+=</span><span class="pln"> win</span><span class="pun">[</span><span class="lit">12</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">][</span><span class="lit">12</span><span class="pun">][</span><span class="lit">16</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; sum </span><span class="pun">+=</span><span class="pln"> win</span><span class="pun">[</span><span class="lit">14</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">][</span><span class="lit">14</span><span class="pun">][</span><span class="lit">16</span><span class="pun">];</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">sum </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">32767</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="pun">*</span><span class="pln">dst_p</span><span class="pun">++</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">32767</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">sum </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">32767</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="pun">*</span><span class="pln">dst_p</span><span class="pun">++</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">32767</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">else</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="pun">*</span><span class="pln">dst_p</span><span class="pun">++</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> sum</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp; win </span><span class="pun">+=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">16</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">phase </span><span class="pun">|</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">15</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">--)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum  </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-*--</span><span class="pln">win </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">0</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*--</span><span class="pln">win </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">1</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*--</span><span class="pln">win </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">2</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*--</span><span class="pln">win </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">3</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*--</span><span class="pln">win </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">4</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*--</span><span class="pln">win </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">5</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*--</span><span class="pln">win </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">6</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*--</span><span class="pln">win </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">7</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*--</span><span class="pln">win </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">8</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*--</span><span class="pln">win </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">9</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*--</span><span class="pln">win </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">10</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*--</span><span class="pln">win </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">11</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*--</span><span class="pln">win </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">12</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*--</span><span class="pln">win </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">13</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*--</span><span class="pln">win </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">14</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  sum </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">*--</span><span class="pln">win </span><span class="pun">*</span><span class="pln"> dctbuf</span><span class="pun">[</span><span class="pln">phase</span><span class="pun">&amp;</span><span class="lit">1</span><span class="pun">][</span><span class="lit">15</span><span class="pun">][</span><span class="pln">i</span><span class="pun">];</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">sum </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">32767</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   </span><span class="pun">*</span><span class="pln">dst_p</span><span class="pun">++</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">32767</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">sum </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">32767</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   </span><span class="pun">*</span><span class="pln">dst_p</span><span class="pun">++</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">32767</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  </span><span class="kwd">else</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;   </span><span class="pun">*</span><span class="pln">dst_p </span><span class="pun">++</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> sum</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  win </span><span class="pun">-=</span><span class="pln"> </span><span class="lit">16</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="pun">}</span><span class="pln">

 &nbsp;  &nbsp;  &nbsp;  &nbsp; phase </span><span class="pun">=</span><span class="pln"> phase </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">15</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="pun">}</span><span class="pln">

 &nbsp;  &nbsp;   </span><span class="com">// skip padding bits</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bit_rest </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">7</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; getbits</span><span class="pun">(&amp;</span><span class="pln">src</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_data</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">bit_rest</span><span class="pun">,</span><span class="pln"> bit_rest </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">7</span><span class="pun">);</span><span class="pln">
 &nbsp;  </span><span class="pun">}</span><span class="pln">

 &nbsp;  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">((</span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*)</span><span class="pln">dst_p </span><span class="pun">-</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*)</span><span class="pln">dst</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">void</span><span class="pln"> </span><span class="typ">Clannad</span><span class="pun">::</span><span class="pln">fwrite_wav_hed</span><span class="pun">(</span><span class="pln">HANDLE wFile</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> len</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> freq</span><span class="pun">)</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
 &nbsp;  </span><span class="typ">FormatWAV</span><span class="pln"> fWAV</span><span class="pun">;</span><span class="pln">

 &nbsp;  memcpy</span><span class="pun">(</span><span class="pln">fWAV</span><span class="pun">.</span><span class="typ">RiffID</span><span class="pun">,</span><span class="pln"> </span><span class="str">"RIFF"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">);</span><span class="pln">
 &nbsp;  fWAV</span><span class="pun">.</span><span class="typ">FileSize</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> len </span><span class="pun">+</span><span class="pln"> </span><span class="lit">36</span><span class="pun">;</span><span class="pln">
 &nbsp;  memcpy</span><span class="pun">(</span><span class="pln">fWAV</span><span class="pun">.</span><span class="typ">WaveID</span><span class="pun">,</span><span class="pln"> </span><span class="str">"WAVE"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">);</span><span class="pln">
 &nbsp;  memcpy</span><span class="pun">(</span><span class="pln">fWAV</span><span class="pun">.</span><span class="pln">fmtID</span><span class="pun">,</span><span class="pln"> </span><span class="str">"fmt "</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">);</span><span class="pln">
 &nbsp;  fWAV</span><span class="pun">.</span><span class="typ">ChunkByte</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0x10</span><span class="pun">;</span><span class="pln">
 &nbsp;  fWAV</span><span class="pun">.</span><span class="typ">FormatID</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0x01</span><span class="pun">;</span><span class="pln">
 &nbsp;  fWAV</span><span class="pun">.</span><span class="pln">channels </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0x01</span><span class="pun">;</span><span class="pln">
 &nbsp;  fWAV</span><span class="pun">.</span><span class="pln">freq </span><span class="pun">=</span><span class="pln"> freq</span><span class="pun">;</span><span class="pln">
 &nbsp;  fWAV</span><span class="pun">.</span><span class="pln">bps </span><span class="pun">=</span><span class="pln"> freq </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
 &nbsp;  fWAV</span><span class="pun">.</span><span class="typ">BlockSize</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0x02</span><span class="pun">;</span><span class="pln">
 &nbsp;  fWAV</span><span class="pun">.</span><span class="pln">bits </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0x10</span><span class="pun">;</span><span class="pln">
 &nbsp;  memcpy</span><span class="pun">(</span><span class="pln">fWAV</span><span class="pun">.</span><span class="typ">DataID</span><span class="pun">,</span><span class="pln"> </span><span class="str">"data"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">);</span><span class="pln">
 &nbsp;  fWAV</span><span class="pun">.</span><span class="typ">DataSize</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> len</span><span class="pun">;</span><span class="pln">

 &nbsp;  </span><span class="typ">WriteFile</span><span class="pun">(</span><span class="pln">wFile</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">fWAV</span><span class="pun">,</span><span class="pln"> </span><span class="lit">44</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="com">// 抽出する関数</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> </span><span class="typ">Clannad</span><span class="pun">::</span><span class="typ">Write</span><span class="pun">(</span><span class="pln">CFI file</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*</span><span class="typ">LastSaveFolderDir</span><span class="pun">)</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
 &nbsp;  </span><span class="typ">ExtractTag</span><span class="pln"> extTag </span><span class="pun">=</span><span class="pln"> m_extTag</span><span class="pun">;</span><span class="pln">
 &nbsp;  </span><span class="typ">ProgressBar</span><span class="pln"> </span><span class="pun">*</span><span class="pln">progress </span><span class="pun">=</span><span class="pln"> m_progress</span><span class="pun">;</span><span class="pln">

 &nbsp;  </span><span class="com">// バッファ確保</span><span class="pln">
 &nbsp;  m_z_buf </span><span class="pun">=</span><span class="pln"> </span><span class="typ">GetBuf</span><span class="pun">(</span><span class="pln">file</span><span class="pun">.</span><span class="pln">compsize</span><span class="pun">);</span><span class="pln">
 &nbsp;  BYTE </span><span class="pun">*</span><span class="pln">z_buf </span><span class="pun">=</span><span class="pln"> m_z_buf</span><span class="pun">;</span><span class="pln">
 &nbsp;  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">z_buf</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
 &nbsp;  </span><span class="com">// 読み込み</span><span class="pln">
 &nbsp;  </span><span class="typ">SetFilePointer</span><span class="pun">(</span><span class="pln">extTag</span><span class="pun">.</span><span class="pln">arcFile</span><span class="pun">,</span><span class="pln"> file</span><span class="pun">.</span><span class="pln">start</span><span class="pun">,</span><span class="pln"> NULL</span><span class="pun">,</span><span class="pln"> FILE_BEGIN</span><span class="pun">);</span><span class="pln">
 &nbsp;  </span><span class="typ">ReadFile</span><span class="pun">(</span><span class="pln">extTag</span><span class="pun">.</span><span class="pln">arcFile</span><span class="pun">,</span><span class="pln"> z_buf</span><span class="pun">,</span><span class="pln"> file</span><span class="pun">.</span><span class="pln">compsize</span><span class="pun">);</span><span class="pln">

 &nbsp;  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">memcmp</span><span class="pun">(</span><span class="pln">z_buf </span><span class="pun">+</span><span class="pln"> </span><span class="lit">7</span><span class="pun">,</span><span class="pln"> </span><span class="str">"MZX0"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="com">// MZX解凍</span><span class="pln">
 &nbsp;  &nbsp;   DWORD buf1_len </span><span class="pun">=</span><span class="pln"> </span><span class="pun">*(</span><span class="pln">DWORD </span><span class="pun">*)&amp;</span><span class="pln">z_buf</span><span class="pun">[</span><span class="lit">11</span><span class="pun">];</span><span class="pln">
 &nbsp;  &nbsp;   m_buf </span><span class="pun">=</span><span class="pln"> </span><span class="typ">GetBuf</span><span class="pun">(</span><span class="pln">buf1_len </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1024</span><span class="pun">);</span><span class="pln">
 &nbsp;  &nbsp;   BYTE </span><span class="pun">*</span><span class="pln">buf1 </span><span class="pun">=</span><span class="pln"> m_buf</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">buf1</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   decode_mzx</span><span class="pun">(</span><span class="pln">z_buf </span><span class="pun">+</span><span class="pln"> </span><span class="lit">7</span><span class="pun">,</span><span class="pln"> buf1</span><span class="pun">,</span><span class="pln"> buf1_len</span><span class="pun">);</span><span class="pln">

 &nbsp;  &nbsp;   </span><span class="com">// キャンセル確認</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">progress</span><span class="pun">-&gt;</span><span class="typ">Cancel</span><span class="pun">())</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;   </span><span class="com">// WAVに変換</span><span class="pln">
 &nbsp;  &nbsp;   DWORD buf2_len </span><span class="pun">=</span><span class="pln"> getlongb</span><span class="pun">(</span><span class="pln">buf1 </span><span class="pun">+</span><span class="pln"> </span><span class="lit">12</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   m_buf2 </span><span class="pun">=</span><span class="pln"> </span><span class="typ">GetBuf</span><span class="pun">(</span><span class="pln">buf2_len </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1152</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln"> </span><span class="com">// margen = layer-2 frame size</span><span class="pln">
 &nbsp;  &nbsp;   BYTE </span><span class="pun">*</span><span class="pln">buf2 </span><span class="pun">=</span><span class="pln"> m_buf2</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">buf2</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   buf2_len </span><span class="pun">=</span><span class="pln"> decode_ahx</span><span class="pun">(</span><span class="pln">buf1</span><span class="pun">,</span><span class="pln"> buf2</span><span class="pun">,</span><span class="pln"> buf1_len</span><span class="pun">);</span><span class="pln">

 &nbsp;  &nbsp;   </span><span class="com">// キャンセル確認</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">progress</span><span class="pun">-&gt;</span><span class="typ">Cancel</span><span class="pun">())</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;   </span><span class="com">// 出力ファイル名生成</span><span class="pln">
 &nbsp;  &nbsp;   m_wFileName </span><span class="pun">=</span><span class="pln"> </span><span class="typ">GetFileNameBuf</span><span class="pun">();</span><span class="pln">
 &nbsp;  &nbsp;   LPTSTR wFileName </span><span class="pun">=</span><span class="pln"> m_wFileName</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">wFileName</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="typ">MakeWriteFileName</span><span class="pun">(</span><span class="pln">wFileName</span><span class="pun">,</span><span class="pln"> </span><span class="typ">LastSaveFolderDir</span><span class="pun">,</span><span class="pln"> file</span><span class="pun">.</span><span class="pln">name</span><span class="pun">,</span><span class="pln"> _T</span><span class="pun">(</span><span class="str">""</span><span class="pun">))</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;   </span><span class="com">// 出力</span><span class="pln">
 &nbsp;  &nbsp;   m_wFile </span><span class="pun">=</span><span class="pln"> </span><span class="typ">CreateWriteFile</span><span class="pun">(</span><span class="pln">wFileName</span><span class="pun">);</span><span class="pln">
 &nbsp;  &nbsp;   HANDLE wFile </span><span class="pun">=</span><span class="pln"> m_wFile</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">wFile </span><span class="pun">==</span><span class="pln"> INVALID_HANDLE_VALUE</span><span class="pun">)</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
 &nbsp;  &nbsp;   fwrite_wav_hed</span><span class="pun">(</span><span class="pln">wFile</span><span class="pun">,</span><span class="pln"> buf2_len</span><span class="pun">,</span><span class="pln"> getlongb</span><span class="pun">(</span><span class="pln">buf1 </span><span class="pun">+</span><span class="pln"> </span><span class="lit">8</span><span class="pun">));</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="typ">WriteFile</span><span class="pun">(</span><span class="pln">wFile</span><span class="pun">,</span><span class="pln"> buf2</span><span class="pun">,</span><span class="pln"> buf2_len</span><span class="pun">);</span><span class="pln">

 &nbsp;  &nbsp;   </span><span class="com">// キャンセル確認</span><span class="pln">
 &nbsp;  &nbsp;   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">progress</span><span class="pun">-&gt;</span><span class="typ">Cancel</span><span class="pun">())</span><span class="pln">
 &nbsp;  &nbsp;  &nbsp;  &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">;</span><span class="pln">

 &nbsp;  &nbsp;   </span><span class="com">// 進捗状況更新</span><span class="pln">
 &nbsp;  &nbsp;   progress</span><span class="pun">-&gt;</span><span class="typ">UpdatePercent</span><span class="pun">(</span><span class="pln">buf2_len</span><span class="pun">);</span><span class="pln">
 &nbsp;  </span><span class="pun">}</span><span class="pln">

 &nbsp;  </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></pre></div>
		</th>
	</tr>
	<tr class="tr1 r_one">
		<th style="vertical-align: bottom; padding-left: 15px; border: 0px; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="">

		<div id="w_tpc" class="c"></div>

		<div><img class="signature" src="assets/1570959915-f23b8ffd0b6b327441aa828c9cd3243d.gif" align="absbottom"></div>
		<div class="signature" style="max-height:380px;maxHeight:380px; overflow:hidden;"><table width="100%"><tbody><tr><td><a href="http://psnprofiles.com/ayazokkon" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer"><span class="highslide"><img src="assets/1570959915-b6d057edec068aee2ab1bdaca2998dce.png" border="0" style="max-width: 100%;max-height: 900px;"></span></a></td><td></td></tr></tbody></table></div>

		<div class="tipad"><span style="float:right">
<a href="javascript:scroll(0,0)" title="顶端" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">顶端</a> <a href="javascript:scroll(0,999999)" title="底端" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">底端</a></span>
			
			<span class="gray"> 2006-10-02 13:54 | 
	
			</span>

			<span><a class="s3" title="回复此楼" style="cursor:pointer;" onclick="postreply('回 楼主(ZOKKON) 的帖子');" data-mx-warn="Empty URL">[楼 主]</a></span>

		</div></th>
	</tr></tbody></table>
</div>

<a name="783926" data-mx-warn="Empty URL"></a>
<div class="t t2"><table cellspacing="0" cellpadding="0" width="100%" style="table-layout: fixed; border-top: 0px; --darkreader-inline-border-top: initial;" data-darkreader-inline-border-top="">
	<tbody><tr class="tr1"><th style="width:20%" rowspan="2" class="r_two">

		<img src="assets/1570959915-1cde2ccde0fc90dbe6db3784fc6ec383.gif" title="该用户目前不在线" align="absmiddle">

<b>gwz008</b>
<div style="margin:.3em 0 .4em .2em">タチケマ　萌え～</div>
<div class="user-pic"><table style="border: 0px; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left=""><tbody><tr><td width="1">

<a href="https://bbs.sumisora.net/profile.php?action=show&amp;uid=37099" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer"><img class="pic" src="assets/1570959915-c49263fce12957e232e6329405608d48.jpg" style="max-width:185px;max-height:200px;overflow:hidden" border="0"></a>

</td><td style="vertical-align:top"><span id="sf_1"></span></td></tr></tbody></table>
</div>
		级别: <font color="#555555" data-darkreader-inline-color="" style="--darkreader-inline-color:#cfc9be;">澄空二年生上学期</font><br>
		<img style="margin:.2em 0 .6em" src="assets/1570959915-3699e74cfe4e975552e8db25eb7cc233.gif"><br>

<span class="user-info2" id="showface_1">
<span class="user-infoWrap2">


精华:

		<span class="s4">0</span>
<br>
发帖: <span class="s1 f9">694</span><br>
学分: <span class="s2 f9">1 点</span><br>
澄空币: <span class="s3 f9">2027 KID</span><br>

		GPA: <span class="s2 f9">0 点</span><br>

		<span class="gray">注册时间:2006-02-07<br>
		最后登录:2013-07-12 <br><br> 
		</span>
		</span></span>
		</th>
		<th height="100%" class="r_one" valign="top" id="td_783926" style="padding: 5px 15px 0px; border: 0px; width: 80%; overflow: hidden; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="">
			<div class="tiptop">
			<span class="fl" style="white-space:nowrap;">
			<a href="https://bbs.sumisora.net/post.php?action=quote&amp;fid=78&amp;tid=203034&amp;pid=783926&amp;article=1" onclick="return sendurl(this,4,event)" id="quote_783926" title="引用回复这个帖子" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">引用</a> <a href="https://bbs.sumisora.net/post.php?action=modify&amp;fid=78&amp;tid=203034&amp;pid=783926&amp;article=1" id="modify_783926" onclick="return sendurl(this,4,event)" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">编辑</a>
			<a href="https://bbs.sumisora.net/message.php?action=write&amp;touid=37099" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">短信</a>

			<a href="https://bbs.sumisora.net/operate.php?action=report&amp;tid=203034&amp;pid=783926" onclick="return sendurl(this,8)" id="report_783926" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">举报</a>

			<a href="https://bbs.sumisora.net/read.php?tid=203034&amp;uid=37099" title="只看该作者的所有回复" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">只看</a>

			<a style="cursor:pointer;" onclick="copyUrl('783926')" title="此楼地址" data-mx-warn="Empty URL">锚点</a>
			</span>

			<div class="c"></div>
			</div>
			<h1 id="subject_783926" class="fl">&nbsp;</h1>
			

			<div id="p_783926" class="c"></div>

<!--
-->

			<div class="tpc_content" id="read_783926">寒..............<br>我小白<br>看了也米用</div>
		</th>
	</tr>
	<tr class="tr1 r_one">
		<th style="vertical-align: bottom; padding-left: 15px; border: 0px; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="">

		<div id="w_783926" class="c"></div>

		<div><img class="signature" src="assets/1570959915-f23b8ffd0b6b327441aa828c9cd3243d.gif" align="absbottom"></div>
		<div class="signature" style="max-height:380px;maxHeight:380px; overflow:hidden;"><table width="100%"><tbody><tr><td><span class="highslide"><img src="assets/1570959915-6b6120026d8c2567eb6a2ca4bc187365.jpg" border="0" style="max-width: 100%;max-height: 900px;"></span></td><td></td></tr></tbody></table></div>

		<div class="tipad"><span style="float:right">
<a href="javascript:scroll(0,0)" title="顶端" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">顶端</a> <a href="javascript:scroll(0,999999)" title="底端" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">底端</a></span>
			
			<span class="gray"> 2006-10-02 14:12 | 
	
			</span>

			<span><a class="s3" title="回复此楼" style="cursor:pointer;" onclick="postreply('回 1楼(gwz008) 的帖子');" data-mx-warn="Empty URL">1 楼</a></span>

		</div></th>
	</tr></tbody></table>
</div>

<a name="784193" data-mx-warn="Empty URL"></a>
<div class="t t2"><table cellspacing="0" cellpadding="0" width="100%" style="table-layout: fixed; border-top: 0px; --darkreader-inline-border-top: initial;" data-darkreader-inline-border-top="">
	<tbody><tr class="tr1"><th style="width:20%" rowspan="2" class="r_two">

		<img src="assets/1570959915-1cde2ccde0fc90dbe6db3784fc6ec383.gif" title="该用户目前不在线" align="absmiddle">

<b>山药</b>
<div style="margin:.3em 0 .4em .2em">$￥</div>
<div class="user-pic"><table style="border: 0px; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left=""><tbody><tr><td width="1">

<a href="https://bbs.sumisora.net/profile.php?action=show&amp;uid=8473" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer"><img class="pic" src="invalid-url.png" style="max-width:185px;max-height:200px;overflow:hidden" border="0" data-mx-warn="Failed to construct 'URL': Invalid URL" data-mx-original-src="http://"></a>

</td><td style="vertical-align:top"><span id="sf_2"></span></td></tr></tbody></table>
</div>
		级别: <font color="#555555" data-darkreader-inline-color="" style="--darkreader-inline-color:#cfc9be;">澄空三年生上学期</font><br>
		<img style="margin:.2em 0 .6em" src="assets/1570959915-5fc5bacf4fd91c54a5fe72c4ceff18fa.gif"><br>

<span class="user-info2" id="showface_2">
<span class="user-infoWrap2">


精华:

		<span class="s4">0</span>
<br>
发帖: <span class="s1 f9">1861</span><br>
学分: <span class="s2 f9">23 点</span><br>
澄空币: <span class="s3 f9">844 KID</span><br>

		GPA: <span class="s2 f9">0 点</span><br>

		<span class="gray">注册时间:2005-04-04<br>
		最后登录:2018-11-17 <br><br> 
		</span>
		</span></span>
		</th>
		<th height="100%" class="r_one" valign="top" id="td_784193" style="padding: 5px 15px 0px; border: 0px; width: 80%; overflow: hidden; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="">
			<div class="tiptop">
			<span class="fl" style="white-space:nowrap;">
			<a href="https://bbs.sumisora.net/post.php?action=quote&amp;fid=78&amp;tid=203034&amp;pid=784193&amp;article=2" onclick="return sendurl(this,4,event)" id="quote_784193" title="引用回复这个帖子" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">引用</a> <a href="https://bbs.sumisora.net/post.php?action=modify&amp;fid=78&amp;tid=203034&amp;pid=784193&amp;article=2" id="modify_784193" onclick="return sendurl(this,4,event)" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">编辑</a>
			<a href="https://bbs.sumisora.net/message.php?action=write&amp;touid=8473" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">短信</a>

			<a href="https://bbs.sumisora.net/operate.php?action=report&amp;tid=203034&amp;pid=784193" onclick="return sendurl(this,8)" id="report_784193" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">举报</a>

			<a href="https://bbs.sumisora.net/read.php?tid=203034&amp;uid=8473" title="只看该作者的所有回复" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">只看</a>

			<a style="cursor:pointer;" onclick="copyUrl('784193')" title="此楼地址" data-mx-warn="Empty URL">锚点</a>
			</span>

			<div class="c"></div>
			</div>
			<h1 id="subject_784193" class="fl">&nbsp;</h1>
			

			<div id="p_784193" class="c"></div>

<!--
-->

			<div class="tpc_content" id="read_784193">贼贼我没装C也能用么?</div>
		</th>
	</tr>
	<tr class="tr1 r_one">
		<th style="vertical-align: bottom; padding-left: 15px; border: 0px; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="">

		<div id="w_784193" class="c"></div>

		<div class="tipad"><span style="float:right">
<a href="javascript:scroll(0,0)" title="顶端" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">顶端</a> <a href="javascript:scroll(0,999999)" title="底端" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">底端</a></span>
			
			<span class="gray"> 2006-10-02 17:28 | 
	
			</span>

			<span><a class="s3" title="回复此楼" style="cursor:pointer;" onclick="postreply('回 2楼(山药) 的帖子');" data-mx-warn="Empty URL">2 楼</a></span>

		</div></th>
	</tr></tbody></table>
</div>

<a name="784217" data-mx-warn="Empty URL"></a>
<div class="t t2"><table cellspacing="0" cellpadding="0" width="100%" style="table-layout: fixed; border-top: 0px; --darkreader-inline-border-top: initial;" data-darkreader-inline-border-top="">
	<tbody><tr class="tr1"><th style="width:20%" rowspan="2" class="r_two">

		<img src="assets/1570959915-1cde2ccde0fc90dbe6db3784fc6ec383.gif" title="该用户目前不在线" align="absmiddle">

<b>ZOKKON</b>
<div style="margin:.3em 0 .4em .2em"></div>
<div class="user-pic"><table style="border: 0px; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left=""><tbody><tr><td width="1">

<a href="https://bbs.sumisora.net/profile.php?action=show&amp;uid=11713" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer"><img class="pic" src="assets/1570959915-bc3b3631a24154c2d9ba8189508a5212.gif" style="max-width:185px;max-height:200px;overflow:hidden" border="0"></a>

</td><td style="vertical-align:top"><span id="sf_3"></span></td></tr></tbody></table>
</div>
		级别: <font color="#555555" data-darkreader-inline-color="" style="--darkreader-inline-color:#cfc9be;">学生会会长</font><br>
		<img style="margin:.2em 0 .6em" src="assets/1570959915-0a01319a6cb0298e43987e75f6c15907.gif"><br>

<span class="user-info2" id="showface_3">
<span class="user-infoWrap2">


精华:

		<a href="https://bbs.sumisora.net/search.php?authorid=11713&amp;digest=1" target="_blank" class="s4 f9" referrerpolicy="no-referrer" rel="noopener noreferrer">3</a>
<br>
发帖: <span class="s1 f9">3860</span><br>
学分: <span class="s2 f9">388 点</span><br>
澄空币: <span class="s3 f9">936 KID</span><br>

		GPA: <span class="s2 f9">5 点</span><br>

		<span class="gray">注册时间:2005-06-04<br>
		最后登录:2019-01-23 <br><br> 
		<img src="assets/1570959915-a4a7b328b9562b14d22bc5cde7502240.gif" title="7号入学纪念勋章"> <img src="assets/1570959915-3b54a036ab9f8f95a1ba9dff384ccade.gif" title="白色相簿2汉化纪念勋章 - 小木曽雪菜ver."> <img src="assets/1570959915-40ee42ccf4e2cd804208994e3c43d220.gif" title="白色相簿2汉化纪念勋章 -&nbsp;冬马和纱ver."> <img src="assets/1570959915-a35b88018e1a9bd5135298f79ddcde37.gif" title="白色相簿重制版汉化纪念勋章 - 如月小夜子ver."> <img src="assets/1570959915-f062f095a0331d980e71be2a94b40e87.gif" title="白色相簿汉化团队纪念徽章"> <img src="assets/1570959915-e49341971c846113c5e151ccbe995072.gif" title="白色相簿2圣母徽章"> <br></span>
		</span></span>
		</th>
		<th height="100%" class="r_one" valign="top" id="td_784217" style="padding: 5px 15px 0px; border: 0px; width: 80%; overflow: hidden; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="">
			<div class="tiptop">
			<span class="fl" style="white-space:nowrap;">
			<a href="https://bbs.sumisora.net/post.php?action=quote&amp;fid=78&amp;tid=203034&amp;pid=784217&amp;article=3" onclick="return sendurl(this,4,event)" id="quote_784217" title="引用回复这个帖子" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">引用</a> <a href="https://bbs.sumisora.net/post.php?action=modify&amp;fid=78&amp;tid=203034&amp;pid=784217&amp;article=3" id="modify_784217" onclick="return sendurl(this,4,event)" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">编辑</a>
			<a href="https://bbs.sumisora.net/message.php?action=write&amp;touid=11713" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">短信</a>

			<a href="https://bbs.sumisora.net/operate.php?action=report&amp;tid=203034&amp;pid=784217" onclick="return sendurl(this,8)" id="report_784217" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">举报</a>

			<a href="https://bbs.sumisora.net/read.php?tid=203034&amp;uid=11713" title="只看该作者的所有回复" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">只看</a>

			<a style="cursor:pointer;" onclick="copyUrl('784217')" title="此楼地址" data-mx-warn="Empty URL">锚点</a>
			</span>

			<div class="c"></div>
			</div>
			<h1 id="subject_784217" class="fl">&nbsp;</h1>
			

			<div id="p_784217" class="c"></div>

<!--
-->

			<div class="tpc_content" id="read_784217"><h6 class="quote">Quote:</h6><blockquote class="blockquote"><b>引用第2楼<i>山药</i>于<i>2006-10-02 17:28</i>发表的“”</b>:<br>贼贼我没装C也能用么?</blockquote><br><br>装Ｂ——！就可以了。。。。。。。</div>
		</th>
	</tr>
	<tr class="tr1 r_one">
		<th style="vertical-align: bottom; padding-left: 15px; border: 0px; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="">

		<div id="w_784217" class="c"></div>

		<div><img class="signature" src="assets/1570959915-f23b8ffd0b6b327441aa828c9cd3243d.gif" align="absbottom"></div>
		<div class="signature" style="max-height:380px;maxHeight:380px; overflow:hidden;"><table width="100%"><tbody><tr><td><a href="http://psnprofiles.com/ayazokkon" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer"><span class="highslide"><img src="assets/1570959915-b6d057edec068aee2ab1bdaca2998dce.png" border="0" style="max-width: 100%;max-height: 900px;"></span></a></td><td></td></tr></tbody></table></div>

		<div class="tipad"><span style="float:right">
<a href="javascript:scroll(0,0)" title="顶端" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">顶端</a> <a href="javascript:scroll(0,999999)" title="底端" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">底端</a></span>
			
			<span class="gray"> 2006-10-02 17:40 | 
	
			</span>

			<span><a class="s3" title="回复此楼" style="cursor:pointer;" onclick="postreply('回 3楼(ZOKKON) 的帖子');" data-mx-warn="Empty URL">3 楼</a></span>

		</div></th>
	</tr></tbody></table>
</div>

<a name="784409" data-mx-warn="Empty URL"></a>
<div class="t t2"><table cellspacing="0" cellpadding="0" width="100%" style="table-layout: fixed; border-top: 0px; --darkreader-inline-border-top: initial;" data-darkreader-inline-border-top="">
	<tbody><tr class="tr1"><th style="width:20%" rowspan="2" class="r_two">

		<img src="assets/1570959915-1cde2ccde0fc90dbe6db3784fc6ec383.gif" title="该用户目前不在线" align="absmiddle">

<b>xaeroak15</b>
<div style="margin:.3em 0 .4em .2em">The End/Out/Age Of Infinity</div>
<div class="user-pic"><table style="border: 0px; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left=""><tbody><tr><td width="1">

<a href="https://bbs.sumisora.net/profile.php?action=show&amp;uid=5408" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer"><img class="pic" src="assets/1570959915-568f5127a2f8bd51cea96a2631f1dcca.jpg" style="max-width:185px;max-height:200px;overflow:hidden" border="0"></a>

</td><td style="vertical-align:top"><span id="sf_4"></span></td></tr></tbody></table>
</div>
		级别: <font color="#555555" data-darkreader-inline-color="" style="--darkreader-inline-color:#cfc9be;">澄空の贵宾</font><br>
		<img style="margin:.2em 0 .6em" src="assets/1570959915-87bc1a6e935264a57e50e0d513f23aa7.gif"><br>

<span class="user-info2" id="showface_4">
<span class="user-infoWrap2">


精华:

		<span class="s4">0</span>
<br>
发帖: <span class="s1 f9">15300</span><br>
学分: <span class="s2 f9">185 点</span><br>
澄空币: <span class="s3 f9">2394 KID</span><br>

		GPA: <span class="s2 f9">0 点</span><br>

		<span class="gray">注册时间:2005-01-19<br>
		最后登录:2019-01-01 <br><br> 
		<img src="assets/1570959915-bccf9e916d51cf87702606f8b8a2433c.gif" title="万贴纪念勋章"> <img src="assets/1570959915-0e92d71e2d6d7d028eb6be3f4cfadcd0.gif" title="分流组专用勋章"> <img src="assets/1570959915-4b21092c7338c24ccb6bca86df00b70f.gif" title="10号入学纪念勋章"> <br></span>
		</span></span>
		</th>
		<th height="100%" class="r_one" valign="top" id="td_784409" style="padding: 5px 15px 0px; border: 0px; width: 80%; overflow: hidden; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="">
			<div class="tiptop">
			<span class="fl" style="white-space:nowrap;">
			<a href="https://bbs.sumisora.net/post.php?action=quote&amp;fid=78&amp;tid=203034&amp;pid=784409&amp;article=4" onclick="return sendurl(this,4,event)" id="quote_784409" title="引用回复这个帖子" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">引用</a> <a href="https://bbs.sumisora.net/post.php?action=modify&amp;fid=78&amp;tid=203034&amp;pid=784409&amp;article=4" id="modify_784409" onclick="return sendurl(this,4,event)" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">编辑</a>
			<a href="https://bbs.sumisora.net/message.php?action=write&amp;touid=5408" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">短信</a>

			<a href="https://bbs.sumisora.net/operate.php?action=report&amp;tid=203034&amp;pid=784409" onclick="return sendurl(this,8)" id="report_784409" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">举报</a>

			<a href="https://bbs.sumisora.net/read.php?tid=203034&amp;uid=5408" title="只看该作者的所有回复" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">只看</a>

			<a style="cursor:pointer;" onclick="copyUrl('784409')" title="此楼地址" data-mx-warn="Empty URL">锚点</a>
			</span>

			<div class="c"></div>
			</div>
			<h1 id="subject_784409" class="fl">&nbsp;</h1>
			

			<div id="p_784409" class="c"></div>

<!--
-->

			<div class="tpc_content" id="read_784409">恩……zz变成了第二个avc了啊~写个GUI或命令行吧~到时候在pc上看看……<div id="alert_784409" style="color: gray; margin-top: 30px; --darkreader-inline-color:#bfb9ac;" data-darkreader-inline-color="">[ 此贴被xaeroak15在2006-10-02 19:23重新编辑 ]</div></div>
		</th>
	</tr>
	<tr class="tr1 r_one">
		<th style="vertical-align: bottom; padding-left: 15px; border: 0px; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="">

		<div id="w_784409" class="c"></div>

		<div><img class="signature" src="assets/1570959915-f23b8ffd0b6b327441aa828c9cd3243d.gif" align="absbottom"></div>
		<div class="signature" style="max-height:380px;maxHeight:380px; overflow:hidden;"><table width="100%"><tbody><tr><td><span class="highslide"><img src="assets/1570959915-9de25ff556ef1759280b61b08957cff5.jpg" border="0" style="max-width: 100%;max-height: 900px;"></span><br><span style="color: rgb(0, 0, 255); --darkreader-inline-color:#447fe5;" data-darkreader-inline-color=""><font size="2"><b>Suspicion...</b></font></span> </td><td></td></tr></tbody></table></div>

		<div class="tipad"><span style="float:right">
<a href="javascript:scroll(0,0)" title="顶端" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">顶端</a> <a href="javascript:scroll(0,999999)" title="底端" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">底端</a></span>
			
			<span class="gray"> 2006-10-02 19:16 | 
	
			</span>

			<span><a class="s3" title="回复此楼" style="cursor:pointer;" onclick="postreply('回 4楼(xaeroak15) 的帖子');" data-mx-warn="Empty URL">4 楼</a></span>

		</div></th>
	</tr></tbody></table>
</div>

<a name="807529" data-mx-warn="Empty URL"></a>
<div class="t t2"><table cellspacing="0" cellpadding="0" width="100%" style="table-layout: fixed; border-top: 0px; --darkreader-inline-border-top: initial;" data-darkreader-inline-border-top="">
	<tbody><tr class="tr1"><th style="width:20%" rowspan="2" class="r_two">

		<img src="assets/1570959915-1cde2ccde0fc90dbe6db3784fc6ec383.gif" title="该用户目前不在线" align="absmiddle">

<b>ZOKKON</b>
<div style="margin:.3em 0 .4em .2em"></div>
<div class="user-pic"><table style="border: 0px; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left=""><tbody><tr><td width="1">

<a href="https://bbs.sumisora.net/profile.php?action=show&amp;uid=11713" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer"><img class="pic" src="assets/1570959915-bc3b3631a24154c2d9ba8189508a5212.gif" style="max-width:185px;max-height:200px;overflow:hidden" border="0"></a>

</td><td style="vertical-align:top"><span id="sf_5"></span></td></tr></tbody></table>
</div>
		级别: <font color="#555555" data-darkreader-inline-color="" style="--darkreader-inline-color:#cfc9be;">学生会会长</font><br>
		<img style="margin:.2em 0 .6em" src="assets/1570959915-0a01319a6cb0298e43987e75f6c15907.gif"><br>

<span class="user-info2" id="showface_5">
<span class="user-infoWrap2">


精华:

		<a href="https://bbs.sumisora.net/search.php?authorid=11713&amp;digest=1" target="_blank" class="s4 f9" referrerpolicy="no-referrer" rel="noopener noreferrer">3</a>
<br>
发帖: <span class="s1 f9">3860</span><br>
学分: <span class="s2 f9">388 点</span><br>
澄空币: <span class="s3 f9">936 KID</span><br>

		GPA: <span class="s2 f9">5 点</span><br>

		<span class="gray">注册时间:2005-06-04<br>
		最后登录:2019-01-23 <br><br> 
		<img src="assets/1570959915-a4a7b328b9562b14d22bc5cde7502240.gif" title="7号入学纪念勋章"> <img src="assets/1570959915-3b54a036ab9f8f95a1ba9dff384ccade.gif" title="白色相簿2汉化纪念勋章 - 小木曽雪菜ver."> <img src="assets/1570959915-40ee42ccf4e2cd804208994e3c43d220.gif" title="白色相簿2汉化纪念勋章 -&nbsp;冬马和纱ver."> <img src="assets/1570959915-a35b88018e1a9bd5135298f79ddcde37.gif" title="白色相簿重制版汉化纪念勋章 - 如月小夜子ver."> <img src="assets/1570959915-f062f095a0331d980e71be2a94b40e87.gif" title="白色相簿汉化团队纪念徽章"> <img src="assets/1570959915-e49341971c846113c5e151ccbe995072.gif" title="白色相簿2圣母徽章"> <br></span>
		</span></span>
		</th>
		<th height="100%" class="r_one" valign="top" id="td_807529" style="padding: 5px 15px 0px; border: 0px; width: 80%; overflow: hidden; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="">
			<div class="tiptop">
			<span class="fl" style="white-space:nowrap;">
			<a href="https://bbs.sumisora.net/post.php?action=quote&amp;fid=78&amp;tid=203034&amp;pid=807529&amp;article=5" onclick="return sendurl(this,4,event)" id="quote_807529" title="引用回复这个帖子" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">引用</a> <a href="https://bbs.sumisora.net/post.php?action=modify&amp;fid=78&amp;tid=203034&amp;pid=807529&amp;article=5" id="modify_807529" onclick="return sendurl(this,4,event)" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">编辑</a>
			<a href="https://bbs.sumisora.net/message.php?action=write&amp;touid=11713" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">短信</a>

			<a href="https://bbs.sumisora.net/operate.php?action=report&amp;tid=203034&amp;pid=807529" onclick="return sendurl(this,8)" id="report_807529" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">举报</a>

			<a href="https://bbs.sumisora.net/read.php?tid=203034&amp;uid=11713" title="只看该作者的所有回复" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">只看</a>

			<a style="cursor:pointer;" onclick="copyUrl('807529')" title="此楼地址" data-mx-warn="Empty URL">锚点</a>
			</span>

			<div class="c"></div>
			</div>
			<h1 id="subject_807529" class="fl">&nbsp;</h1>
			

			<div id="p_807529" class="c"></div>

<!--
-->

			<div class="tpc_content" id="read_807529"><h6 class="quote">Quote:</h6><blockquote class="blockquote"><b>引用第4楼<i>xaeroak15</i>于<i>2006-10-02 19:16</i>发表的“”</b>:<br>恩……zz变成了第二个avc了啊~写个GUI或命令行吧~到时候在pc上看看……</blockquote><br><br>不，不要这样说。<br><br>偶也是从别处拿来的　－　－</div>
		</th>
	</tr>
	<tr class="tr1 r_one">
		<th style="vertical-align: bottom; padding-left: 15px; border: 0px; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="">

		<div id="w_807529" class="c"></div>

		<div><img class="signature" src="assets/1570959915-f23b8ffd0b6b327441aa828c9cd3243d.gif" align="absbottom"></div>
		<div class="signature" style="max-height:380px;maxHeight:380px; overflow:hidden;"><table width="100%"><tbody><tr><td><a href="http://psnprofiles.com/ayazokkon" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer"><span class="highslide"><img src="assets/1570959915-b6d057edec068aee2ab1bdaca2998dce.png" border="0" style="max-width: 100%;max-height: 900px;"></span></a></td><td></td></tr></tbody></table></div>

		<div class="tipad"><span style="float:right">
<a href="javascript:scroll(0,0)" title="顶端" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">顶端</a> <a href="javascript:scroll(0,999999)" title="底端" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">底端</a></span>
			
			<span class="gray"> 2006-10-14 18:10 | 
	
			</span>

			<span><a class="s3" title="回复此楼" style="cursor:pointer;" onclick="postreply('回 5楼(ZOKKON) 的帖子');" data-mx-warn="Empty URL">5 楼</a></span>

		</div></th>
	</tr></tbody></table>
</div>

<a name="808577" data-mx-warn="Empty URL"></a>
<div class="t t2"><table cellspacing="0" cellpadding="0" width="100%" style="table-layout: fixed; border-top: 0px; --darkreader-inline-border-top: initial;" data-darkreader-inline-border-top="">
	<tbody><tr class="tr1"><th style="width:20%" rowspan="2" class="r_two">

		<img src="assets/1570959915-1cde2ccde0fc90dbe6db3784fc6ec383.gif" title="该用户目前不在线" align="absmiddle">

<b>fcast</b>
<div style="margin:.3em 0 .4em .2em"></div>
<div class="user-pic"><table style="border: 0px; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left=""><tbody><tr><td width="1">

<a href="https://bbs.sumisora.net/profile.php?action=show&amp;uid=23498" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer"><img class="pic" src="assets/1570959915-fcbe8565f8b7141c67a22bac7f81f3f7.jpg" style="max-width:185px;max-height:200px;overflow:hidden" border="0"></a>

</td><td style="vertical-align:top"><span id="sf_6"></span></td></tr></tbody></table>
</div>
		级别: <font color="#555555" data-darkreader-inline-color="" style="--darkreader-inline-color:#cfc9be;">澄空二年生上学期</font><br>
		<img style="margin:.2em 0 .6em" src="assets/1570959915-3699e74cfe4e975552e8db25eb7cc233.gif"><br>

<span class="user-info2" id="showface_6">
<span class="user-infoWrap2">


精华:

		<span class="s4">0</span>
<br>
发帖: <span class="s1 f9">537</span><br>
学分: <span class="s2 f9">0 点</span><br>
澄空币: <span class="s3 f9">490 KID</span><br>

		GPA: <span class="s2 f9">0 点</span><br>

		<span class="gray">注册时间:2005-10-03<br>
		最后登录:2019-09-21 <br><br> 
		</span>
		</span></span>
		</th>
		<th height="100%" class="r_one" valign="top" id="td_808577" style="padding: 5px 15px 0px; border: 0px; width: 80%; overflow: hidden; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="">
			<div class="tiptop">
			<span class="fl" style="white-space:nowrap;">
			<a href="https://bbs.sumisora.net/post.php?action=quote&amp;fid=78&amp;tid=203034&amp;pid=808577&amp;article=6" onclick="return sendurl(this,4,event)" id="quote_808577" title="引用回复这个帖子" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">引用</a> <a href="https://bbs.sumisora.net/post.php?action=modify&amp;fid=78&amp;tid=203034&amp;pid=808577&amp;article=6" id="modify_808577" onclick="return sendurl(this,4,event)" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">编辑</a>
			<a href="https://bbs.sumisora.net/message.php?action=write&amp;touid=23498" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">短信</a>

			<a href="https://bbs.sumisora.net/operate.php?action=report&amp;tid=203034&amp;pid=808577" onclick="return sendurl(this,8)" id="report_808577" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">举报</a>

			<a href="https://bbs.sumisora.net/read.php?tid=203034&amp;uid=23498" title="只看该作者的所有回复" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">只看</a>

			<a style="cursor:pointer;" onclick="copyUrl('808577')" title="此楼地址" data-mx-warn="Empty URL">锚点</a>
			</span>

			<div class="c"></div>
			</div>
			<h1 id="subject_808577" class="fl">&nbsp;</h1>
			

			<div id="p_808577" class="c"></div>

<!--
-->

			<div class="tpc_content" id="read_808577">原来装B9可以了,正嫌C麻烦,反正都挂了...<br>有点想笑的感觉,奇怪</div>
		</th>
	</tr>
	<tr class="tr1 r_one">
		<th style="vertical-align: bottom; padding-left: 15px; border: 0px; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="">

		<div id="w_808577" class="c"></div>

		<div class="tipad"><span style="float:right">
<a href="javascript:scroll(0,0)" title="顶端" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">顶端</a> <a href="javascript:scroll(0,999999)" title="底端" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">底端</a></span>
			
			<span class="gray"> 2006-10-15 00:31 | 
	
			</span>

			<span><a class="s3" title="回复此楼" style="cursor:pointer;" onclick="postreply('回 6楼(fcast) 的帖子');" data-mx-warn="Empty URL">6 楼</a></span>

		</div></th>
	</tr></tbody></table>
</div>

<a name="815968" data-mx-warn="Empty URL"></a>
<div class="t t2"><table cellspacing="0" cellpadding="0" width="100%" style="table-layout: fixed; border-top: 0px; --darkreader-inline-border-top: initial;" data-darkreader-inline-border-top="">
	<tbody><tr class="tr1"><th style="width:20%" rowspan="2" class="r_two">

		<img src="assets/1570959915-1cde2ccde0fc90dbe6db3784fc6ec383.gif" title="该用户目前不在线" align="absmiddle">

<b>3333</b>
<div style="margin:.3em 0 .4em .2em">3倍速瞬残</div>
<div class="user-pic"><table style="border: 0px; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left=""><tbody><tr><td width="1">

<a href="https://bbs.sumisora.net/profile.php?action=show&amp;uid=32595" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer"><img class="pic" src="assets/1570959915-8cb4c3b66c6f0851919e7dba673ebf75.png" style="max-width:185px;max-height:200px;overflow:hidden" border="0"></a>

</td><td style="vertical-align:top"><span id="sf_7"></span></td></tr></tbody></table>
</div>
		级别: <font color="#555555" data-darkreader-inline-color="" style="--darkreader-inline-color:#cfc9be;">澄空二年生下学期</font><br>
		<img style="margin:.2em 0 .6em" src="assets/1570959915-14d3050259d6ae6cb4b43275cd83308d.gif"><br>

<span class="user-info2" id="showface_7">
<span class="user-infoWrap2">


精华:

		<span class="s4">0</span>
<br>
发帖: <span class="s1 f9">1204</span><br>
学分: <span class="s2 f9">2 点</span><br>
澄空币: <span class="s3 f9">1376 KID</span><br>

		GPA: <span class="s2 f9">0 点</span><br>

		<span class="gray">注册时间:2006-01-01<br>
		最后登录:2015-07-20 <br><br> 
		</span>
		</span></span>
		</th>
		<th height="100%" class="r_one" valign="top" id="td_815968" style="padding: 5px 15px 0px; border: 0px; width: 80%; overflow: hidden; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="">
			<div class="tiptop">
			<span class="fl" style="white-space:nowrap;">
			<a href="https://bbs.sumisora.net/post.php?action=quote&amp;fid=78&amp;tid=203034&amp;pid=815968&amp;article=7" onclick="return sendurl(this,4,event)" id="quote_815968" title="引用回复这个帖子" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">引用</a> <a href="https://bbs.sumisora.net/post.php?action=modify&amp;fid=78&amp;tid=203034&amp;pid=815968&amp;article=7" id="modify_815968" onclick="return sendurl(this,4,event)" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">编辑</a>
			<a href="https://bbs.sumisora.net/message.php?action=write&amp;touid=32595" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">短信</a>

			<a href="https://bbs.sumisora.net/operate.php?action=report&amp;tid=203034&amp;pid=815968" onclick="return sendurl(this,8)" id="report_815968" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">举报</a>

			<a href="https://bbs.sumisora.net/read.php?tid=203034&amp;uid=32595" title="只看该作者的所有回复" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">只看</a>

			<a style="cursor:pointer;" onclick="copyUrl('815968')" title="此楼地址" data-mx-warn="Empty URL">锚点</a>
			</span>

			<div class="c"></div>
			</div>
			<h1 id="subject_815968" class="fl">&nbsp;</h1>
			

			<div id="p_815968" class="c"></div>

<!--
-->

			<div class="tpc_content" id="read_815968">＝ ＝ 太高了..居然是GNU版权的....ZOKKON &nbsp; MSG联系...<br>这个程序本来就是简单的GUI读取程序..= =解密过程太复杂...等我查下资料下...中间有说参考了某开源播放器的解码....<div id="alert_815968" style="color: gray; margin-top: 30px; --darkreader-inline-color:#bfb9ac;" data-darkreader-inline-color="">[ 此贴被3333在2006-10-19 00:48重新编辑 ]</div></div>
		</th>
	</tr>
	<tr class="tr1 r_one">
		<th style="vertical-align: bottom; padding-left: 15px; border: 0px; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="">

		<div id="w_815968" class="c"></div>

		<div><img class="signature" src="assets/1570959915-f23b8ffd0b6b327441aa828c9cd3243d.gif" align="absbottom"></div>
		<div class="signature" style="max-height:380px;maxHeight:380px; overflow:hidden;"><table width="100%"><tbody><tr><td>脑残BLOG <a href="http://xsk.cublog.cn/" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">http://xsk.cublog.cn</a></td><td></td></tr></tbody></table></div>

		<div class="tipad"><span style="float:right">
<a href="javascript:scroll(0,0)" title="顶端" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">顶端</a> <a href="javascript:scroll(0,999999)" title="底端" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">底端</a></span>
			
			<span class="gray"> 2006-10-18 22:59 | 
	
			</span>

			<span><a class="s3" title="回复此楼" style="cursor:pointer;" onclick="postreply('回 7楼(3333) 的帖子');" data-mx-warn="Empty URL">7 楼</a></span>

		</div></th>
	</tr></tbody></table>
</div>

<a name="a" data-mx-warn="Empty URL"></a><a name="4661122" data-mx-warn="Empty URL"></a>
<div class="t t2"><table cellspacing="0" cellpadding="0" width="100%" style="table-layout: fixed; border-top: 0px; --darkreader-inline-border-top: initial;" data-darkreader-inline-border-top="">
	<tbody><tr class="tr1"><th style="width:20%" rowspan="2" class="r_two">

		<img src="assets/1570959915-1cde2ccde0fc90dbe6db3784fc6ec383.gif" title="该用户目前不在线" align="absmiddle">

<b>a92126</b>
<div style="margin:.3em 0 .4em .2em"></div>
<div class="user-pic"><table style="border: 0px; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left=""><tbody><tr><td width="1">

<a href="https://bbs.sumisora.net/profile.php?action=show&amp;uid=222874" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer"><img class="pic" src="assets/1570959915-adabf178855629ccf3936eca394cc6eb" style="max-width:185px;max-height:200px;overflow:hidden" border="0"></a>

</td><td style="vertical-align:top"><span id="sf_8"></span></td></tr></tbody></table>
</div>
		级别: <font color="#555555" data-darkreader-inline-color="" style="--darkreader-inline-color:#cfc9be;">澄空一年生上学期</font><br>
		<img style="margin:.2em 0 .6em" src="assets/1570959915-f43195cd588caa26c296fcc61910b3e6.gif"><br>

<span class="user-info2" id="showface_8">
<span class="user-infoWrap2">


精华:

		<span class="s4">0</span>
<br>
发帖: <span class="s1 f9">40</span><br>
学分: <span class="s2 f9">0 点</span><br>
澄空币: <span class="s3 f9">864 KID</span><br>

		GPA: <span class="s2 f9">0 点</span><br>

		<span class="gray">注册时间:2008-07-05<br>
		最后登录:2015-01-25 <br><br> 
		</span>
		</span></span>
		</th>
		<th height="100%" class="r_one" valign="top" id="td_4661122" style="padding: 5px 15px 0px; border: 0px; width: 80%; overflow: hidden; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="">
			<div class="tiptop">
			<span class="fl" style="white-space:nowrap;">
			<a href="https://bbs.sumisora.net/post.php?action=quote&amp;fid=78&amp;tid=203034&amp;pid=4661122&amp;article=8" onclick="return sendurl(this,4,event)" id="quote_4661122" title="引用回复这个帖子" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">引用</a> <a href="https://bbs.sumisora.net/post.php?action=modify&amp;fid=78&amp;tid=203034&amp;pid=4661122&amp;article=8" id="modify_4661122" onclick="return sendurl(this,4,event)" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">编辑</a>
			<a href="https://bbs.sumisora.net/message.php?action=write&amp;touid=222874" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">短信</a>

			<a href="https://bbs.sumisora.net/operate.php?action=report&amp;tid=203034&amp;pid=4661122" onclick="return sendurl(this,8)" id="report_4661122" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">举报</a>

			<a href="https://bbs.sumisora.net/read.php?tid=203034&amp;uid=222874" title="只看该作者的所有回复" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">只看</a>

			<a style="cursor:pointer;" onclick="copyUrl('4661122')" title="此楼地址" data-mx-warn="Empty URL">锚点</a>
			</span>

			<div class="c"></div>
			</div>
			<h1 id="subject_4661122" class="fl">&nbsp;</h1>
			

			<div id="p_4661122" class="c"></div>

<!--
-->

			<div class="tpc_content" id="read_4661122">找了好久找到这里来，这个decode_mzx真是帮大忙了，感谢lz</div>
		</th>
	</tr>
	<tr class="tr1 r_one">
		<th style="vertical-align: bottom; padding-left: 15px; border: 0px; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="">

		<div id="w_4661122" class="c"></div>

		<div class="tipad"><span style="float:right">
<a href="javascript:scroll(0,0)" title="顶端" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">顶端</a> <a href="javascript:scroll(0,999999)" title="底端" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">底端</a></span>
			
			<span class="gray"> 2011-12-29 14:19 | 
	
			</span>

			<span><a class="s3" title="回复此楼" style="cursor:pointer;" onclick="postreply('回 8楼(a92126) 的帖子');" data-mx-warn="Empty URL">8 楼</a></span>

		</div></th>
	</tr></tbody></table>
</div>

</form>
<div class="t3" style="margin:initial"><table cellspacing="0" cellpadding="0" width="100%" align="center">
	<tbody><tr><td align="left"></td>
		<td valign="center" align="right">
		<a class="abtn f_two" id="readlog" onclick="sendmsg('pw_ajax.php?action=readlog','',this.id);" data-mx-warn="Empty URL">帖子浏览记录<img src="assets/1570959915-5c8e409588b73ce4284cf5b9bd619e15.gif"></a>
		<select onchange="Fjump(this.options[this.selectedIndex].value)"><option value="" selected="">快速跳至</option>
<option value="1">&gt;&gt; 『澄空学园 办公楼区』</option>
<option value="2"> &nbsp;|- 【校园公告栏】</option>
<option value="5"> &nbsp;|- 【论坛意见箱】</option>
<option value="113">&gt;&gt; 『澄空学园 资讯社』</option>
<option value="47"> &nbsp;|- 【新鲜速报】</option>
<option value="103"> &nbsp;|- 【新作介绍】</option>
<option value="8"> &nbsp; &nbsp;|-  【电子杂志下载区】</option>
<option value="104"> &nbsp;|- 【杂志专题】</option>
<option value="7">&gt;&gt; 『澄空学园 教学楼区』</option>
<option value="62"> &nbsp;|- 【AGE主题学部】</option>
<option value="39"> &nbsp;|- 【Akabeesoft2主题学部】</option>
<option value="100"> &nbsp;|- 【AUGUST主题学部】</option>
<option value="42"> &nbsp;|- 【CIRCUS主题学部】</option>
<option value="40"> &nbsp;|- 【Cotton-Nekoneko主题学部】</option>
<option value="64"> &nbsp;|- 【GIGA主题学部】</option>
<option value="38"> &nbsp;|- 【Key主题学部】</option>
<option value="10"> &nbsp;|- 【KID主题学部】</option>
<option value="37"> &nbsp;|- 【Leaf主题学部】</option>
<option value="70"> &nbsp;|- 【minori主题学部】</option>
<option value="12"> &nbsp;|- 【Navel主题学部】</option>
<option value="65"> &nbsp;|- 【Nitro+主题学部】</option>
<option value="14"> &nbsp;|- 【Type-Moon应援会】</option>
<option value="17"> &nbsp; &nbsp;|-  【TM精华区】</option>
<option value="98"> &nbsp;|- 【Will主题学部】</option>
<option value="116"> &nbsp;|- 【FAVORITE主题学部】</option>
<option value="108"> &nbsp;|- 【ALcot主题学部】</option>
<option value="55"> &nbsp;|- 【GALGAME综合作品讨论室】</option>
<option value="97"> &nbsp; &nbsp;|-  【Light主题学部】</option>
<option value="117"> &nbsp; &nbsp;|-  【CUFFS主题学部】</option>
<option value="15"> &nbsp; &nbsp;|-  【Liar Soft主题学部】</option>
<option value="57"> &nbsp; &nbsp;|-  【Purple 主题学部】</option>
<option value="13"> &nbsp; &nbsp;|-  【工画堂主题学部】</option>
<option value="35"> &nbsp;|- 【GALGAME综合杂谈室】</option>
<option value="99"> &nbsp;|- 【ぱれっと主题学部】</option>
<option value="122"> &nbsp;|- 【SAGA PLANETS研讨室】</option>
<option value="123"> &nbsp;|- 【Lump of Sugar 研讨室】</option>
<option value="86">&gt;&gt; 『澄空学园 图书馆』</option>
<option value="80"> &nbsp;|- 【游戏鉴赏室】</option>
<option value="56"> &nbsp;|- 【GALGAME攻略馆】</option>
<option value="115"> &nbsp;|- 【作品出处问询室】</option>
<option value="63"> &nbsp;|- 【Galgame疑问求助室】</option>
<option value="18">&gt;&gt; 『澄空学园 教辅楼区』</option>
<option value="73"> &nbsp;|- 【同人游戏区】</option>
<option value="60"> &nbsp;|- 【二次元轻小说社】</option>
<option value="20"> &nbsp;|- 【日语自学教室】</option>
<option value="61"> &nbsp; &nbsp;|-  【日语学习资料区】</option>
<option value="118"> &nbsp; &nbsp;|-  【日语参考文章区】</option>
<option value="21"> &nbsp;|- 【一般游戏社团】</option>
<option value="24"> &nbsp;|- 【多媒体课堂】</option>
<option value="88">&gt;&gt; 『澄空学园 原创综合区』</option>
<option value="79"> &nbsp;|- 【原创游戏部】</option>
<option value="36"> &nbsp; &nbsp;|-  【ss-square】</option>
<option value="89"> &nbsp;|- 【MAD研究室】</option>
<option value="91"> &nbsp;|- 【莉可屋 REC ROOM】</option>
<option value="119"> &nbsp; &nbsp;|-  【澄空百合社翻唱作品】</option>
<option value="19"> &nbsp;|- 【澄空文学部】</option>
<option value="120"> &nbsp; &nbsp;|-  【落日余晖】</option>
<option value="23"> &nbsp;|- 【绘画工房】</option>
<option value="69"> &nbsp;|- 【活动投票区】</option>
<option value="74"> &nbsp;|- 【友谊赛投票区】</option>
<option value="58"> &nbsp;|- 【澄空部活室】</option>
<option value="41"> &nbsp;|- 【暑假原创作品活动专区】</option>
<option value="59"> &nbsp;|- 【实物周边交流区】</option>
<option value="85"> &nbsp; &nbsp;|-  【ComicMarket相关资料】</option>
<option value="82"> &nbsp; &nbsp;|-  【新品介绍】</option>
<option value="84"> &nbsp; &nbsp;|-  【综合交流】</option>
<option value="83"> &nbsp; &nbsp;|-  【好物收集】</option>
<option value="81"> &nbsp; &nbsp;|-  【交易求购】</option>
<option value="95"> &nbsp;|- 【澄空放送部】</option>
<option value="111"> &nbsp; &nbsp;|-  【放送策划室】</option>
<option value="27"> &nbsp;|- 【水下乐园LeMU】</option>
<option value="46"> &nbsp; &nbsp;|-  【美工作品收藏室】</option>
<option value="26"> &nbsp; &nbsp;|-  【COS自爆馆】</option>
<option value="90"> &nbsp; &nbsp;|-  【澄空期刊室】</option>
<option value="71"> &nbsp;|- 【澄空演剧部】</option>
<option value="9"> &nbsp; &nbsp;|-  演剧部排练室</option>
<option value="52"> &nbsp;|- 【废帖回收站】</option>
<option value="29">&gt;&gt; 『澄空学园 好物交流站』</option>
<option value="50"> &nbsp;|- 【澄空学园字幕作品】</option>
<option value="51"> &nbsp;|- 【澄空学园漫画作品】</option>
<option value="77"> &nbsp;|- 【游戏汉化交流区】</option>
<option value="28"> &nbsp; &nbsp;|-  【CK-GAL中文化小组】</option>
<option value="106"> &nbsp; &nbsp;|-  【PRO2】</option>
<option value="49"> &nbsp; &nbsp;|-      【桜】</option>
<option value="30"> &nbsp;|- 【资源求助区】</option>
<option value="32"> &nbsp;|- 【澄空音乐厅】</option>
<option value="33"> &nbsp;|- 【澄空美术馆】</option>
<option value="34"> &nbsp;|- 【动漫租售屋】</option>
<option value="44">&gt;&gt; 『澄空学园 课余工作区』</option>
<option value="45"> &nbsp;|- 【澄空漫画汉化组】</option>
<option value="48"> &nbsp;|-  【澄空学园字幕组】</option>
<option value="101"> &nbsp; &nbsp;|-  字幕组资料区</option>
<option value="72"> &nbsp;|- 【澄空学园分流组】</option>
<option value="87"> &nbsp;|- 【澄空学园新闻组】</option>
<option value="96"> &nbsp;|- 【澄空学园文学社】</option>
<option value="75"> &nbsp;|- 【澄空学园百合社】</option>
<option value="112"> &nbsp;|- 【澄空学园编辑部】</option>
<option value="114"> &nbsp;|- 【澄空学园美工部】</option>
<option value="121"> &nbsp;|-  【澄空祭运行委员会】</option>
</select></td>
		
	</tr>
	<tr><td style="padding-top: 12px;text-align: left;"><img src="assets/1570959915-ca4a91079181c2a5cb3514b2e5b5f035.gif" align="absbottom"> <b><a href="https://bbs.sumisora.net/index.php" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">『澄空学园』</a> » <a href="https://bbs.sumisora.net/thread.php?fid=78&amp;page=6" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">【汉化破解研讨室】</a></b> </td>
	<td style="padding-top: 12px;text-align: right;"><a href="https://bbs.sumisora.net/post.php?action=reply&amp;fid=78&amp;tid=203034" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer"><img src="assets/1570959915-132cb83b134d7ecd9b390389d489bc43.png"></a>

<a href="https://bbs.sumisora.net/post.php?fid=78" style="margin-left:.5em" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer"><img src="assets/1570959915-8cab7ee31ae503cf78e5410d40cec291.png" id="td_post1"></a>
</td>
	</tr>
</tbody></table></div>




<form name="FORM" method="post" action="post.php?" enctype="multipart/form-data" onsubmit="return checkpost(document.FORM);">
<div class="t" style="margin-top:8px"><table cellspacing="0" cellpadding="0" align="center" width="100%">
	<tbody><tr>
		<td class="h" colspan="3"><b>快速发帖</b></td>
	</tr>
	<tr></tr>
	<tr class="tr2"><td colspan="100" style="border-bottom: 0px; --darkreader-inline-border-bottom: initial;" data-darkreader-inline-border-bottom=""></td></tr>
	<tr>
		<td valign="top" width="20%" class="f_one" style="padding:7px">
		<fieldset id="smiliebox" style="border: 1px solid rgb(213, 229, 232); --darkreader-inline-border-top:#354e51; --darkreader-inline-border-right:#354e51; --darkreader-inline-border-bottom:#354e51; --darkreader-inline-border-left:#354e51;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="">
		<legend>内容</legend>
		<br>
		<input type="checkbox" name="atc_usesign" value="1" checked="">使用签名<br>
		<input type="checkbox" name="atc_convert" value="1" checked="">Wind Code自动转换 <br>
	 	<input type="checkbox" id="atc_autoimg" name="atc_autoimg" value="1" onchange="onAutoImgchange()" checked="" title="此设置会记在浏览器中"><label for="atc_autoimg" title="此设置会记在浏览器中">自动分析img</label><br><br>
	 	
		<input type="checkbox" name="atc_requiresell" value="1" disabled="">出售此帖
		<input class="input" type="text" maxlength="3" size="3" name="atc_money" value="0">
		<br>
		<input type="checkbox" name="atc_requirervrc" value="1">加密此帖
		<input class="input" type="text" maxlength="6" size="3" name="atc_rvrc" value="0">
		<br>
		<br><br><a href="https://bbs.sumisora.net/read.php?tid=10925672" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">如何在帖子中贴图？</a>
		<br><a href="https://bbs.sumisora.net/read.php?tid=10942243" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">Wind Code使用教程</a>
		<br><a href="https://bbs.sumisora.net/yume/recover/" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">恢复帖子内容</a>
		</fieldset>
		</td>
		<td width="60%" class="f_one" style="padding:7px">
		<div>


<blockquote style="width: 96%;" class="blockquote">澄空娘：『本论坛以GALGAME游戏及其周边动漫为主，涉及其他非讨论性质的贴可能不予以保留
』</blockquote>

		<input type="text" class="input" name="atc_title" value="Re:[源码] 抽取PS2版CLANNAD语音、图像" size="65">
		

		 认证码: <input class="input" type="text" name="gdcode" size="5" tabindex="6" onfocus="try{opencode('menu_gd',this)}catch(e){}"><br>
		

		</div><div style="padding:.3em 0">
		</div>
		<textarea onkeydown="quickpost(event)" id="atc_content" name="atc_content" rows="8" style="width:96%"></textarea>
		
		
		
		
		
		<div style="margin:5px 0">
		<div style="padding: 4px 10px 0px 0px; float: left; color: rgb(136, 136, 136); --darkreader-inline-color:#bfb9ac;" data-darkreader-inline-color="">按 Ctrl+Enter 直接提交</div>
		<input class="btn" type="submit" name="Submit" value=" 提 交 "></div>
		</td>
		<td width="20%" class="f_one">
		<div style="padding:3px; text-align:center; width:200px;">
		<fieldset id="smiliebox" style="border: 1px solid rgb(213, 229, 232); --darkreader-inline-border-top:#354e51; --darkreader-inline-border-right:#354e51; --darkreader-inline-border-bottom:#354e51; --darkreader-inline-border-left:#354e51;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="">
			<legend>表情</legend>
			<div id="menu_show"></div>
<span style="float:right; margin:3px 10px 5px;"><a id="td_face" style="cursor:pointer;" onclick="showDefault();" align="absmiddle" unselectable="on" data-mx-warn="Empty URL">[更多]</a></span>
<span style="float:left; margin:3px 10px 5px;"><a id="td_generalface" style="cursor:pointer;" onclick="showfaces();$('#td_generalface').fadeOut();" align="absmiddle" data-mx-warn="Empty URL">[显示表情]</a></span>
		</fieldset></div>
		
		
		</td>
	</tr>
</tbody></table></div></form>







</div>
<div id="bottom"></div><br>
<center class="gray">
<small><span id="windspend">Total 0.042290(s) query 6, Time is now 10-13 17:33, 
Load is low.
</span> <br>
Powered by <a href="http://www.phpwind.net/" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer"><b>PHPWind</b></a> <a href="http://www.phpwind.net/" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer"><b style="color: rgb(255, 153, 0); --darkreader-inline-color:#f7b24b;" data-darkreader-inline-color="">v6.3.2</b></a> Code © 2003-08 <a href="http://www.phpwind.com/" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer"><b>PHPWind.com</b></a> Corporation</small>
</center><br>
<div id="footer">
	<span class="f12 fl"></span><a href="https://bbs.sumisora.net/sendmail.php" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">Contact us</a>

</div>
</div>
        
      </div>
    </body>
  </html>